<!doctype html><html lang=zh class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="cert-manager release notes: cert-manager v1.8"><meta name=author content="James Munnelly"><link href=https://cert-manager.io/release-notes/release-notes-1.8/ rel=canonical><link href=../release-notes-1.9/ rel=prev><link href=../release-notes-1.7/ rel=next><link rel=icon href=../../assets/favicon.png><meta name=generator content="mkdocs-1.4.3, mkdocs-material-9.1.15"><title>Release 1.8 - cert-manager</title><link rel=stylesheet href=../../assets/stylesheets/main.26e3688c.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.ecc896b0.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#v182 class=md-skip> 跳转至 </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=页眉> <a href=../.. title=cert-manager class="md-header__button md-logo" aria-label=cert-manager data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 89 89"> <path d=M3.136,17.387l0,42.932l42.932,21.467l-42.932,-64.399Z /> <path d=M21.91,8l42.933,64.398l-18.775,9.388l-42.932,-64.399l18.774,-9.387Z style="fill-opacity: 0.5"/> <path d=M67.535,17.387l-27.262,18.156l21.878,32.818l5.384,2.691l0,-53.665Z /> <path d=M67.535,17.387l0,53.666l18.774,-9.388l0,-53.665l-18.774,9.387Z style="fill-opacity: 0.25"/> </svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> cert-manager </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Release 1.8 </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> </form> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=搜索 placeholder=搜索 autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=查找> <a href=javascript:void(0) class="md-search__icon md-icon" title=分享 aria-label=分享 data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=清空当前内容 aria-label=清空当前内容 tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> 正在初始化搜索引擎 </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/cert-manager/cert-manager title=前往仓库 class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> cert-manager/cert-manager </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=标签 data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> 简介 </a> </li> <li class=md-tabs__item> <a href=../../installation/ class=md-tabs__link> 安装 </a> </li> <li class=md-tabs__item> <a href=../../configuration/ class=md-tabs__link> 配置 </a> </li> <li class=md-tabs__item> <a href=../../usage/ class=md-tabs__link> 使用 </a> </li> <li class=md-tabs__item> <a href=../../tutorials/ class=md-tabs__link> 手册 </a> </li> <li class=md-tabs__item> <a href=../../projects/ class=md-tabs__link> 项目 </a> </li> <li class=md-tabs__item> <a href=../../troubleshooting/ class=md-tabs__link> 故障排除 </a> </li> <li class=md-tabs__item> <a href=../../concepts/ class=md-tabs__link> 概念 </a> </li> <li class=md-tabs__item> <a href=../../reference/ class=md-tabs__link> 参考 </a> </li> <li class=md-tabs__item> <a href=../../contributing/ class=md-tabs__link> 贡献 </a> </li> <li class=md-tabs__item> <a href=../ class="md-tabs__link md-tabs__link--active"> 发布说明 </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=导航栏 data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title=cert-manager class="md-nav__button md-logo" aria-label=cert-manager data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 89 89"> <path d=M3.136,17.387l0,42.932l42.932,21.467l-42.932,-64.399Z /> <path d=M21.91,8l42.933,64.398l-18.775,9.388l-42.932,-64.399l18.774,-9.387Z style="fill-opacity: 0.5"/> <path d=M67.535,17.387l-27.262,18.156l21.878,32.818l5.384,2.691l0,-53.665Z /> <path d=M67.535,17.387l0,53.666l18.774,-9.388l0,-53.665l-18.774,9.387Z style="fill-opacity: 0.25"/> </svg> </a> cert-manager </label> <div class=md-nav__source> <a href=https://github.com/cert-manager/cert-manager title=前往仓库 class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> cert-manager/cert-manager </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_1> <div class="md-nav__link md-nav__link--index "> <a href=../..>简介</a> <label for=__nav_1> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_1_label aria-expanded=false> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> 简介 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../getting-started/ class=md-nav__link> 入门 </a> </li> <li class=md-nav__item> <a href=../../faq/ class=md-nav__link> FAQ </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <div class="md-nav__link md-nav__link--index "> <a href=../../installation/ >安装</a> <label for=__nav_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> 安装 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../installation/supported-releases/ class=md-nav__link> 支持版本 </a> </li> <li class=md-nav__item> <a href=../../installation/compatibility/ class=md-nav__link> 云兼容性 </a> </li> <li class=md-nav__item> <a href=../../installation/kubectl/ class=md-nav__link> kubectl apply </a> </li> <li class=md-nav__item> <a href=../../installation/helm/ class=md-nav__link> Helm </a> </li> <li class=md-nav__item> <a href=../../installation/operator-lifecycle-manager/ class=md-nav__link> OperatorHub (OLM) </a> </li> <li class=md-nav__item> <a href=../../installation/other-tools/ class=md-nav__link> 其他工具 </a> </li> <li class=md-nav__item> <a href=../../installation/verify/ class=md-nav__link> 验证 </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_9> <div class="md-nav__link md-nav__link--index "> <a href=../../installation/upgrading/ >更新</a> <label for=__nav_2_9> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_9_label aria-expanded=false> <label class=md-nav__title for=__nav_2_9> <span class="md-nav__icon md-icon"></span> 更新 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../installation/upgrading/ingress-class-compatibility/ class=md-nav__link> 关于入类兼容性的说明 </a> </li> <li class=md-nav__item> <a href=../../installation/upgrading/remove-deprecated-apis/ class=md-nav__link> 迁移废弃的API源 </a> </li> <li class=md-nav__item> <a href=../../installation/upgrading/upgrading-1.9-1.10/ class=md-nav__link> v1.9 to v1.10 </a> </li> <li class=md-nav__item> <a href=../../installation/upgrading/upgrading-1.8-1.9/ class=md-nav__link> v1.8 to v1.9 </a> </li> <li class=md-nav__item> <a href=../../installation/upgrading/upgrading-1.7-1.8/ class=md-nav__link> v1.7 to v1.8 </a> </li> <li class=md-nav__item> <a href=../../installation/upgrading/upgrading-1.6-1.7/ class=md-nav__link> v1.6 to v1.7 </a> </li> <li class=md-nav__item> <a href=../../installation/upgrading/upgrading-1.5-1.6/ class=md-nav__link> v1.5 to v1.6 </a> </li> <li class=md-nav__item> <a href=../../installation/upgrading/upgrading-1.4-1.5/ class=md-nav__link> v1.4 to v1.5 </a> </li> <li class=md-nav__item> <a href=../../installation/upgrading/upgrading-1.3-1.4/ class=md-nav__link> v1.3 to v1.4 </a> </li> <li class=md-nav__item> <a href=../../installation/upgrading/upgrading-1.2-1.3/ class=md-nav__link> v1.2 to v1.3 </a> </li> <li class=md-nav__item> <a href=../../installation/upgrading/upgrading-1.1-1.2/ class=md-nav__link> v1.1 to v1.2 </a> </li> <li class=md-nav__item> <a href=../../installation/upgrading/upgrading-1.0-1.1/ class=md-nav__link> v1.0 to v1.1 </a> </li> <li class=md-nav__item> <a href=../../installation/upgrading/upgrading-0.16-1.0/ class=md-nav__link> v0.16 to v1.0 </a> </li> <li class=md-nav__item> <a href=../../installation/upgrading/upgrading-0.15-0.16/ class=md-nav__link> v0.15 to v0.16 </a> </li> <li class=md-nav__item> <a href=../../installation/upgrading/upgrading-0.14-0.15/ class=md-nav__link> v0.14 to v0.15 </a> </li> <li class=md-nav__item> <a href=../../installation/upgrading/upgrading-0.13-0.14/ class=md-nav__link> v0.13 to v0.14 </a> </li> <li class=md-nav__item> <a href=../../installation/upgrading/upgrading-0.12-0.13/ class=md-nav__link> v0.12 to v0.13 </a> </li> <li class=md-nav__item> <a href=../../installation/upgrading/upgrading-0.11-0.12/ class=md-nav__link> v0.11 to v0.12 </a> </li> <li class=md-nav__item> <a href=../../installation/upgrading/upgrading-0.10-0.11/ class=md-nav__link> v0.10 to v0.11 </a> </li> <li class=md-nav__item> <a href=../../installation/upgrading/upgrading-0.9-0.10/ class=md-nav__link> v0.9 to v0.10 </a> </li> <li class=md-nav__item> <a href=../../installation/upgrading/upgrading-0.8-0.9/ class=md-nav__link> v0.8 to v0.9 </a> </li> <li class=md-nav__item> <a href=../../installation/upgrading/upgrading-0.7-0.8/ class=md-nav__link> v0.7 to v0.8 </a> </li> <li class=md-nav__item> <a href=../../installation/upgrading/upgrading-0.6-0.7/ class=md-nav__link> v0.6 to v0.7 </a> </li> <li class=md-nav__item> <a href=../../installation/upgrading/upgrading-0.5-0.6/ class=md-nav__link> v0.5 to v0.6 </a> </li> <li class=md-nav__item> <a href=../../installation/upgrading/upgrading-0.4-0.5/ class=md-nav__link> v0.4 to v0.5 </a> </li> <li class=md-nav__item> <a href=../../installation/upgrading/upgrading-0.3-0.4/ class=md-nav__link> v0.3 to v0.4 </a> </li> <li class=md-nav__item> <a href=../../installation/upgrading/upgrading-0.2-0.3/ class=md-nav__link> v0.2 to v0.3 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../installation/uninstall/ class=md-nav__link> 卸载 </a> </li> <li class=md-nav__item> <a href=../../installation/api-compatibility/ class=md-nav__link> API兼容性 </a> </li> <li class=md-nav__item> <a href=../../installation/code-signing/ class=md-nav__link> 签名验证 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <div class="md-nav__link md-nav__link--index "> <a href=../../configuration/ >配置</a> <label for=__nav_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> 配置 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2> <div class="md-nav__link md-nav__link--index "> <a href=../../configuration/acme/ >ACME</a> <label for=__nav_3_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2> <span class="md-nav__icon md-icon"></span> ACME </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2_2> <div class="md-nav__link md-nav__link--index "> <a href=../../configuration/acme/http01/ >HTTP01</a> <label for=__nav_3_2_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2_2> <span class="md-nav__icon md-icon"></span> HTTP01 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../configuration/acme/http01/externalloadbalancer/ class=md-nav__link> 外部负载均衡器 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2_3> <div class="md-nav__link md-nav__link--index "> <a href=../../configuration/acme/dns01/ >DNS01</a> <label for=__nav_3_2_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_2_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2_3> <span class="md-nav__icon md-icon"></span> DNS01 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../configuration/acme/dns01/alidns-webhook/ class=md-nav__link> ALIDNS </a> </li> <li class=md-nav__item> <a href=../../configuration/acme/dns01/cert-manager-alidns-webhook/ class=md-nav__link> CMAW </a> </li> <li class=md-nav__item> <a href=../../configuration/acme/dns01/acme-dns/ class=md-nav__link> ACMEDNS </a> </li> <li class=md-nav__item> <a href=../../configuration/acme/dns01/akamai/ class=md-nav__link> Akamai </a> </li> <li class=md-nav__item> <a href=../../configuration/acme/dns01/azuredns/ class=md-nav__link> AzureDNS </a> </li> <li class=md-nav__item> <a href=../../configuration/acme/dns01/cloudflare/ class=md-nav__link> Cloudflare </a> </li> <li class=md-nav__item> <a href=../../configuration/acme/dns01/digitalocean/ class=md-nav__link> DigitalOcean </a> </li> <li class=md-nav__item> <a href=../../configuration/acme/dns01/google/ class=md-nav__link> Google CloudDNS </a> </li> <li class=md-nav__item> <a href=../../configuration/acme/dns01/rfc2136/ class=md-nav__link> RFC-2136 </a> </li> <li class=md-nav__item> <a href=../../configuration/acme/dns01/route53/ class=md-nav__link> Route53 </a> </li> <li class=md-nav__item> <a href=../../configuration/acme/dns01/webhook/ class=md-nav__link> Webhook </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../configuration/selfsigned/ class=md-nav__link> SelfSigned </a> </li> <li class=md-nav__item> <a href=../../configuration/ca/ class=md-nav__link> CA </a> </li> <li class=md-nav__item> <a href=../../configuration/vault/ class=md-nav__link> Vault </a> </li> <li class=md-nav__item> <a href=../../configuration/venafi/ class=md-nav__link> Venafi </a> </li> <li class=md-nav__item> <a href=../../configuration/external/ class=md-nav__link> External </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <div class="md-nav__link md-nav__link--index "> <a href=../../usage/ >使用</a> <label for=__nav_4> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> 使用 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../usage/certificate/ class=md-nav__link> 证书源 </a> </li> <li class=md-nav__item> <a href=../../usage/ingress/ class=md-nav__link> 保护入口源 </a> </li> <li class=md-nav__item> <a href=../../usage/gateway/ class=md-nav__link> 保护网关源 </a> </li> <li class=md-nav__item> <a href=../../usage/prometheus-metrics/ class=md-nav__link> Prometheus Metrics </a> </li> <li class=md-nav__item> <a href=../../usage/istio/ class=md-nav__link> 保护Istio服务网格 </a> </li> <li class=md-nav__item> <a href=../../usage/csi/ class=md-nav__link> CSI驱动 </a> </li> <li class=md-nav__item> <a href=../../usage/kube-csr/ class=md-nav__link> Kubernetes CertificateSigningRequests </a> </li> <li class=md-nav__item> <a href=../../usage/approver-policy/ class=md-nav__link> cert-manager 证书的策略 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5> <div class="md-nav__link md-nav__link--index "> <a href=../../tutorials/ >手册</a> <label for=__nav_5> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> 手册 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../tutorials/kubenetes-aliyun-https/ class=md-nav__link> 阿里云K8s部署 </a> </li> <li class=md-nav__item> <a href=../../tutorials/acme/http-validation/ class=md-nav__link> HTTP 验证 </a> </li> <li class=md-nav__item> <a href=../../tutorials/acme/dns-validation/ class=md-nav__link> DNS 验证 </a> </li> <li class=md-nav__item> <a href=../../tutorials/acme/nginx-ingress/ class=md-nav__link> NGINX-ingress </a> </li> <li class=md-nav__item> <a href=../../tutorials/backup/ class=md-nav__link> 备份恢复源 </a> </li> <li class=md-nav__item> <a href=../../tutorials/syncing-secrets-across-namespaces/ class=md-nav__link> 跨命名空间同步秘密 </a> </li> <li class=md-nav__item> <a href=../../tutorials/istio-csr/istio-csr/ class=md-nav__link> 保护istio Service Mesh </a> </li> <li class=md-nav__item> <a href=../../tutorials/getting-started-with-cert-manager-on-google-kubernetes-engine-using-lets-encrypt-for-ingress-ssl/ class=md-nav__link> GKE+Ingress+Let's Encrypt </a> </li> <li class=md-nav__item> <a href=../../tutorials/acme/migrating-from-kube-lego/ class=md-nav__link> 迁移Kube-LEGO </a> </li> <li class=md-nav__item> <a href=../../tutorials/acme/pomerium-ingress/ class=md-nav__link> Pomerium Ingress </a> </li> <li class=md-nav__item> <a href=../../tutorials/venafi/venafi/ class=md-nav__link> EKS+Ingress+Venafi </a> </li> <li class=md-nav__item> <a href=../../tutorials/zerossl/zerossl/ class=md-nav__link> 用ZeroSSL保护入口 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6> <div class="md-nav__link md-nav__link--index "> <a href=../../projects/ >项目</a> <label for=__nav_6> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> 项目 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../projects/istio-csr/ class=md-nav__link> istio-csr </a> </li> <li class=md-nav__item> <a href=../../projects/csi-driver/ class=md-nav__link> csi-driver </a> </li> <li class=md-nav__item> <a href=../../projects/csi-driver-spiffe/ class=md-nav__link> csi-driver-spiffe </a> </li> <li class=md-nav__item> <a href=../../projects/approver-policy/ class=md-nav__link> approver-policy </a> </li> <li class=md-nav__item> <a href=../../projects/trust-manager/ class=md-nav__link> trust-manager </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7> <div class="md-nav__link md-nav__link--index "> <a href=../../troubleshooting/ >故障排除</a> <label for=__nav_7> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> 故障排除 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../troubleshooting/acme/ class=md-nav__link> ACME/Let's Encrypt 证书故障处理 </a> </li> <li class=md-nav__item> <a href=../../troubleshooting/webhook/ class=md-nav__link> webhook故障处理 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8> <div class="md-nav__link md-nav__link--index "> <a href=../../concepts/ >概念</a> <label for=__nav_8> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_8_label aria-expanded=false> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> 概念 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../concepts/issuer/ class=md-nav__link> Issuer(颁发者) </a> </li> <li class=md-nav__item> <a href=../../concepts/certificate/ class=md-nav__link> Certificate(证书) </a> </li> <li class=md-nav__item> <a href=../../concepts/certificaterequest/ class=md-nav__link> CertificateRequest(证书请求) </a> </li> <li class=md-nav__item> <a href=../../concepts/acme-orders-challenges/ class=md-nav__link> ACME Orders(命令)和Challenges(挑战) </a> </li> <li class=md-nav__item> <a href=../../concepts/webhook/ class=md-nav__link> Webhook(Web钩子) </a> </li> <li class=md-nav__item> <a href=../../concepts/ca-injector/ class=md-nav__link> CA Injector(CA 注射器) </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9> <div class="md-nav__link md-nav__link--index "> <a href=../../reference/ >参考</a> <label for=__nav_9> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_9_label aria-expanded=false> <label class=md-nav__title for=__nav_9> <span class="md-nav__icon md-icon"></span> 参考 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../reference/cmctl/ class=md-nav__link> 命令行工具 (cmctl) </a> </li> <li class=md-nav__item> <a href=../../reference/tls-terminology/ class=md-nav__link> TLS 术语 </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_4> <div class="md-nav__link md-nav__link--index "> <a href=../../cli/ >组件/ Docker映像</a> <label for=__nav_9_4> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_9_4_label aria-expanded=false> <label class=md-nav__title for=__nav_9_4> <span class="md-nav__icon md-icon"></span> 组件/ Docker映像 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../cli/acmesolver/ class=md-nav__link> acmesolver </a> </li> <li class=md-nav__item> <a href=../../cli/cainjector/ class=md-nav__link> cainjector </a> </li> <li class=md-nav__item> <a href=../../cli/cmctl/ class=md-nav__link> cmctl </a> </li> <li class=md-nav__item> <a href=../../cli/controller/ class=md-nav__link> controller </a> </li> <li class=md-nav__item> <a href=../../cli/webhook/ class=md-nav__link> webhook </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../reference/api-docs/ class=md-nav__link> API 参考 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_10> <div class="md-nav__link md-nav__link--index "> <a href=../../contributing/ >贡献</a> <label for=__nav_10> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_10_label aria-expanded=false> <label class=md-nav__title for=__nav_10> <span class="md-nav__icon md-icon"></span> 贡献 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../contributing/policy/ class=md-nav__link> 功能政策 </a> </li> <li class=md-nav__item> <a href=../../contributing/building/ class=md-nav__link> 构建 cert-manager </a> </li> <li class=md-nav__item> <a href=../../contributing/contributing-flow/ class=md-nav__link> 流的贡献 </a> </li> <li class=md-nav__item> <a href=../../contributing/crds/ class=md-nav__link> CRDs </a> </li> <li class=md-nav__item> <a href=../../contributing/dns-providers/ class=md-nav__link> DNS Providers </a> </li> <li class=md-nav__item> <a href=../../contributing/e2e/ class=md-nav__link> 运行端到端测试 </a> </li> <li class=md-nav__item> <a href=../../contributing/external-issuers/ class=md-nav__link> 实施外部发行人 </a> </li> <li class=md-nav__item> <a href=../../contributing/sign-off/ class=md-nav__link> DCO签署 </a> </li> <li class=md-nav__item> <a href=../../contributing/release-process/ class=md-nav__link> 发布过程 </a> </li> <li class=md-nav__item> <a href=../../contributing/kind/ class=md-nav__link> 与人为善 </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_10_12> <div class="md-nav__link md-nav__link--index "> <a href=../../contributing/google-season-of-docs/ >谷歌文档季</a> <label for=__nav_10_12> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_10_12_label aria-expanded=false> <label class=md-nav__title for=__nav_10_12> <span class="md-nav__icon md-icon"></span> 谷歌文档季 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_10_12_2> <div class="md-nav__link md-nav__link--index "> <a href=../../contributing/google-season-of-docs/2022/ >2022</a> <label for=__nav_10_12_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_10_12_2_label aria-expanded=false> <label class=md-nav__title for=__nav_10_12_2> <span class="md-nav__icon md-icon"></span> 2022 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../contributing/google-season-of-docs/2022/improve-navigation-and-structure/ class=md-nav__link> 改进cert-manager网站的导航和结构 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../contributing/security/ class=md-nav__link> 报告安全问题 </a> </li> <li class=md-nav__item> <a href=../../contributing/coding-conventions/ class=md-nav__link> 代码编写约定 </a> </li> <li class=md-nav__item> <a href=../../contributing/third-party-code-donation/ class=md-nav__link> 第三方代码捐赠 </a> </li> <li class=md-nav__item> <a href=../../contributing/signing-keys/ class=md-nav__link> 签名密钥 </a> </li> <li class=md-nav__item> <a href=../../contributing/importing/ class=md-nav__link> 在Go中导入证书管理器 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_11 checked> <div class="md-nav__link md-nav__link--index "> <a href=../ >发布说明</a> <label for=__nav_11> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_11_label aria-expanded=true> <label class=md-nav__title for=__nav_11> <span class="md-nav__icon md-icon"></span> 发布说明 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../release-notes-1.10/ class=md-nav__link> v1.10 </a> </li> <li class=md-nav__item> <a href=../release-notes-1.9/ class=md-nav__link> v1.9 </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> v1.8 <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> v1.8 </a> <nav class="md-nav md-nav--secondary" aria-label=目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#v182 class=md-nav__link> v1.8.2 </a> <nav class=md-nav aria-label=v1.8.2> <ul class=md-nav__list> <li class=md-nav__item> <a href=#changes-since-v181 class=md-nav__link> Changes since v1.8.1 </a> <nav class=md-nav aria-label="Changes since v1.8.1"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#bug class=md-nav__link> Bug </a> </li> <li class=md-nav__item> <a href=#other-cleanup-or-flake class=md-nav__link> Other (Cleanup or Flake) </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#v181 class=md-nav__link> v1.8.1 </a> <nav class=md-nav aria-label=v1.8.1> <ul class=md-nav__list> <li class=md-nav__item> <a href=#changes-since-v180 class=md-nav__link> Changes since v1.8.0 </a> <nav class=md-nav aria-label="Changes since v1.8.0"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#bug_1 class=md-nav__link> Bug </a> </li> <li class=md-nav__item> <a href=#cleanup class=md-nav__link> Cleanup </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#v180 class=md-nav__link> v1.8.0 </a> <nav class=md-nav aria-label=v1.8.0> <ul class=md-nav__list> <li class=md-nav__item> <a href=#breaking-changes-you-must-read-this-before-you-upgrade class=md-nav__link> Breaking Changes (You MUST read this before you upgrade!) </a> <nav class=md-nav aria-label="Breaking Changes (You MUST read this before you upgrade!)"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#validation-of-the-rotationpolicy-field class=md-nav__link> Validation of the rotationPolicy field </a> <nav class=md-nav aria-label="Validation of the rotationPolicy field"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#what-happens-if-i-upgrade-to-180-without-doing-the-above-steps class=md-nav__link> What happens if I upgrade to 1.8.0 without doing the above steps? </a> </li> <li class=md-nav__item> <a href=#why-was-this-change-necessary class=md-nav__link> Why was this change necessary? </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#changed-container-layouts class=md-nav__link> Changed Container Layouts </a> </li> <li class=md-nav__item> <a href=#exe-extension-on-windows class=md-nav__link> .exe Extension on Windows </a> </li> <li class=md-nav__item> <a href=#changed-import-path class=md-nav__link> Changed Import Path </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#major-themes class=md-nav__link> Major Themes </a> <nav class=md-nav aria-label="Major Themes"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#server-side-apply class=md-nav__link> Server-Side Apply </a> </li> <li class=md-nav__item> <a href=#from-bazel-to-make class=md-nav__link> From Bazel to Make </a> </li> <li class=md-nav__item> <a href=#exponential-backoff-after-a-failed-issuance class=md-nav__link> Exponential backoff after a failed issuance </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#changelog-since-v170 class=md-nav__link> Changelog since v1.7.0 </a> <nav class=md-nav aria-label="Changelog since v1.7.0"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#feature class=md-nav__link> Feature </a> </li> <li class=md-nav__item> <a href=#design class=md-nav__link> Design </a> </li> <li class=md-nav__item> <a href=#bug-or-regression class=md-nav__link> Bug or Regression </a> </li> <li class=md-nav__item> <a href=#other-cleanup-or-flake_1 class=md-nav__link> Other (Cleanup or Flake) </a> </li> <li class=md-nav__item> <a href=#uncategorized class=md-nav__link> Uncategorized </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../release-notes-1.7/ class=md-nav__link> v1.7 </a> </li> <li class=md-nav__item> <a href=../release-notes-1.6/ class=md-nav__link> v1.6 </a> </li> <li class=md-nav__item> <a href=../release-notes-1.5/ class=md-nav__link> v1.5 </a> </li> <li class=md-nav__item> <a href=../release-notes-1.4/ class=md-nav__link> v1.4 </a> </li> <li class=md-nav__item> <a href=../release-notes-1.3/ class=md-nav__link> v1.3 </a> </li> <li class=md-nav__item> <a href=../release-notes-1.2/ class=md-nav__link> v1.2 </a> </li> <li class=md-nav__item> <a href=../release-notes-1.1/ class=md-nav__link> v1.1 </a> </li> <li class=md-nav__item> <a href=../release-notes-1.0/ class=md-nav__link> v1.0 </a> </li> <li class=md-nav__item> <a href=../release-notes-0.16/ class=md-nav__link> v0.16 </a> </li> <li class=md-nav__item> <a href=../release-notes-0.15/ class=md-nav__link> v0.15 </a> </li> <li class=md-nav__item> <a href=../release-notes-0.14/ class=md-nav__link> v0.14 </a> </li> <li class=md-nav__item> <a href=../release-notes-0.13/ class=md-nav__link> v0.13 </a> </li> <li class=md-nav__item> <a href=../release-notes-0.12/ class=md-nav__link> v0.12 </a> </li> <li class=md-nav__item> <a href=../release-notes-0.11/ class=md-nav__link> v0.11 </a> </li> <li class=md-nav__item> <a href=../release-notes-0.10/ class=md-nav__link> v0.10 </a> </li> <li class=md-nav__item> <a href=../release-notes-0.9/ class=md-nav__link> v0.9 </a> </li> <li class=md-nav__item> <a href=../release-notes-0.8/ class=md-nav__link> v0.8 </a> </li> <li class=md-nav__item> <a href=../release-notes-0.7/ class=md-nav__link> v0.7 </a> </li> <li class=md-nav__item> <a href=../release-notes-0.6/ class=md-nav__link> v0.6 </a> </li> <li class=md-nav__item> <a href=../release-notes-0.5/ class=md-nav__link> v0.5 </a> </li> <li class=md-nav__item> <a href=../release-notes-0.4/ class=md-nav__link> v0.4 </a> </li> <li class=md-nav__item> <a href=../release-notes-0.3/ class=md-nav__link> v0.3 </a> </li> <li class=md-nav__item> <a href=../release-notes-0.2/ class=md-nav__link> v0.2 </a> </li> <li class=md-nav__item> <a href=../release-notes-0.1/ class=md-nav__link> v0.1 </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label=目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#v182 class=md-nav__link> v1.8.2 </a> <nav class=md-nav aria-label=v1.8.2> <ul class=md-nav__list> <li class=md-nav__item> <a href=#changes-since-v181 class=md-nav__link> Changes since v1.8.1 </a> <nav class=md-nav aria-label="Changes since v1.8.1"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#bug class=md-nav__link> Bug </a> </li> <li class=md-nav__item> <a href=#other-cleanup-or-flake class=md-nav__link> Other (Cleanup or Flake) </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#v181 class=md-nav__link> v1.8.1 </a> <nav class=md-nav aria-label=v1.8.1> <ul class=md-nav__list> <li class=md-nav__item> <a href=#changes-since-v180 class=md-nav__link> Changes since v1.8.0 </a> <nav class=md-nav aria-label="Changes since v1.8.0"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#bug_1 class=md-nav__link> Bug </a> </li> <li class=md-nav__item> <a href=#cleanup class=md-nav__link> Cleanup </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#v180 class=md-nav__link> v1.8.0 </a> <nav class=md-nav aria-label=v1.8.0> <ul class=md-nav__list> <li class=md-nav__item> <a href=#breaking-changes-you-must-read-this-before-you-upgrade class=md-nav__link> Breaking Changes (You MUST read this before you upgrade!) </a> <nav class=md-nav aria-label="Breaking Changes (You MUST read this before you upgrade!)"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#validation-of-the-rotationpolicy-field class=md-nav__link> Validation of the rotationPolicy field </a> <nav class=md-nav aria-label="Validation of the rotationPolicy field"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#what-happens-if-i-upgrade-to-180-without-doing-the-above-steps class=md-nav__link> What happens if I upgrade to 1.8.0 without doing the above steps? </a> </li> <li class=md-nav__item> <a href=#why-was-this-change-necessary class=md-nav__link> Why was this change necessary? </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#changed-container-layouts class=md-nav__link> Changed Container Layouts </a> </li> <li class=md-nav__item> <a href=#exe-extension-on-windows class=md-nav__link> .exe Extension on Windows </a> </li> <li class=md-nav__item> <a href=#changed-import-path class=md-nav__link> Changed Import Path </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#major-themes class=md-nav__link> Major Themes </a> <nav class=md-nav aria-label="Major Themes"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#server-side-apply class=md-nav__link> Server-Side Apply </a> </li> <li class=md-nav__item> <a href=#from-bazel-to-make class=md-nav__link> From Bazel to Make </a> </li> <li class=md-nav__item> <a href=#exponential-backoff-after-a-failed-issuance class=md-nav__link> Exponential backoff after a failed issuance </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#changelog-since-v170 class=md-nav__link> Changelog since v1.7.0 </a> <nav class=md-nav aria-label="Changelog since v1.7.0"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#feature class=md-nav__link> Feature </a> </li> <li class=md-nav__item> <a href=#design class=md-nav__link> Design </a> </li> <li class=md-nav__item> <a href=#bug-or-regression class=md-nav__link> Bug or Regression </a> </li> <li class=md-nav__item> <a href=#other-cleanup-or-flake_1 class=md-nav__link> Other (Cleanup or Flake) </a> </li> <li class=md-nav__item> <a href=#uncategorized class=md-nav__link> Uncategorized </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1>v1.8</h1> <h2 id=v182>v1.8.2<a class=headerlink href=#v182 title="Permanent link">&para;</a></h2> <p>v1.8.2 is in effect a bug fix release which increases some hard-coded timeouts which were preventing the use of certain ACME issuers which sometimes had slower response times. This is known to include ZeroSSL and Sectigo.</p> <p>These issues were reported by many users, who we listed and thanked on the <a href=https://github.com/cert-manager/cert-manager/releases/tag/v1.8.2>GitHub release</a>.</p> <h3 id=changes-since-v181>Changes since v1.8.1<a class=headerlink href=#changes-since-v181 title="Permanent link">&para;</a></h3> <h4 id=bug>Bug<a class=headerlink href=#bug title="Permanent link">&para;</a></h4> <ul> <li>Increase timeouts for <code>Issuer</code> and <code>ClusterIssuer</code> controllers to 2 minutes and increase ACME client HTTP timeouts to 90 seconds, in order to enable the use of slower ACME issuers which take a long time to process certain requests. (<a href=https://github.com/cert-manager/cert-manager/pull/5231>#5231</a>, <a href=https://github.com/JoooostB>@JoooostB</a> <a href=https://github.com/SgtCoDFish>@SgtCoDFish</a>)</li> </ul> <h4 id=other-cleanup-or-flake>Other (Cleanup or Flake)<a class=headerlink href=#other-cleanup-or-flake title="Permanent link">&para;</a></h4> <ul> <li>Bump distroless base images to latest versions (<a href=https://github.com/cert-manager/cert-manager/pull/5235>#5235</a>, <a href=https://github.com/SgtCoDFish>@SgtCoDFish</a>)</li> </ul> <h2 id=v181>v1.8.1<a class=headerlink href=#v181 title="Permanent link">&para;</a></h2> <p>v1.8.1 is a patch release rebuilding cert-manager 1.8 using the latest version of Go, and reverting a previous commit which had negatively affected some GitOps workflows.</p> <h3 id=changes-since-v180>Changes since v1.8.0<a class=headerlink href=#changes-since-v180 title="Permanent link">&para;</a></h3> <h4 id=bug_1>Bug<a class=headerlink href=#bug_1 title="Permanent link">&para;</a></h4> <ul> <li>Reverts a check for Prometheus APIs before creating cert-manager <code>ServiceMonitor</code>s which broke users' GitOps flows (<a href=https://github.com/cert-manager/cert-manager/pull/5204>#5204</a>)</li> </ul> <h4 id=cleanup>Cleanup<a class=headerlink href=#cleanup title="Permanent link">&para;</a></h4> <ul> <li>Bumps the version of Go used to build the cert-manager binaries to 1.17.11 which fixes a few CVEs (although we don't think that any of those CVEs were likely to be exploited in cert-manager) (<a href=https://github.com/cert-manager/cert-manager/pull/5203>#5203</a>, <a href=https://github.com/irbekrm>@irbekrm</a>)</li> </ul> <h2 id=v180>v1.8.0<a class=headerlink href=#v180 title="Permanent link">&para;</a></h2> <p>cert-manager 1.8 includes wider support for Kubernetes server-side-apply, a new build and development experience based around <code>Makefile</code>s rather than Bazel, and a range of other improvements, tweaks and bug fixes.</p> <p>Version 1.8 also marks our first release in which the Go import path for cert-manager is that of the repo's new home:</p> <p><code>github.com/cert-manager/cert-manager</code></p> <h3 id=breaking-changes-you-must-read-this-before-you-upgrade>Breaking Changes (You MUST read this before you upgrade!)<a class=headerlink href=#breaking-changes-you-must-read-this-before-you-upgrade title="Permanent link">&para;</a></h3> <h4 id=validation-of-the-rotationpolicy-field>Validation of the <code>rotationPolicy</code> field<a class=headerlink href=#validation-of-the-rotationpolicy-field title="Permanent link">&para;</a></h4> <p>The field <code>spec.privateKey.rotationPolicy</code> on Certificate resources is now validated. Valid options are Never and Always. If you are using a GitOps flow and one of your YAML manifests contains a Certificate with an invalid value, you will need to update it with a valid value to prevent your GitOps tool from failing on the new validation. Please follow the instructions listed on the page <a href=https://cert-manager.io/docs/installation/upgrading/upgrading-1.7-1.8/ >Upgrading from v1.7 to v1.8</a>. (<a href=https://github.com/cert-manager/cert-manager/pull/4913>#4913</a>, <a href=https://github.com/jahrlin>@jahrlin</a>)</p> <h5 id=what-happens-if-i-upgrade-to-180-without-doing-the-above-steps>What happens if I upgrade to 1.8.0 without doing the above steps?<a class=headerlink href=#what-happens-if-i-upgrade-to-180-without-doing-the-above-steps title="Permanent link">&para;</a></h5> <p>After upgrading to 1.8.0, when updating existing Certificate objects that have an incorrect value for <code>rotationPolicy</code>, Kubernetes clients such as kubectl, Helm, or ArgoCD will start showing the following message:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a>Certificate.cert-manager.io &quot;my-cert&quot; is invalid: spec.privateKey.rotationPolicy: Unsupported value: &quot;Foo&quot;: supported values: &quot;Never&quot;, &quot;Always&quot;.
</code></pre></div> <h5 id=why-was-this-change-necessary>Why was this change necessary?<a class=headerlink href=#why-was-this-change-necessary title="Permanent link">&para;</a></h5> <p>Previously, when the value of the <code>rotationPolicy</code> field was set to an incorrect value, you would not know since no event or condition would be visible on the Certificate itself. The only way to know that something was wrong was to dig into the cert-manager-controller logs and see the message "Certificate with unknown <code>certificate.spec.privateKey.rotationPolicy</code> value":</p> <div class=highlight><pre><span></span><code><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a>I0329 12:43:13.325771       1 keymanager_controller.go:176] cert-manager/certificates-key-manager &quot;msg&quot;=&quot;Certificate with unknown certificate.spec.privateKey.rotationPolicy value&quot; &quot;key&quot;=&quot;default/my-cert&quot; &quot;rotation_policy&quot;=&quot;Foo&quot;
</code></pre></div> <p>This change was implemented in <a href=https://github.com/cert-manager/cert-manager/pull/4913>#4913</a>.</p> <h4 id=changed-container-layouts>Changed Container Layouts<a class=headerlink href=#changed-container-layouts title="Permanent link">&para;</a></h4> <p>This only affects you if you're modifying cert-manager containers in some way, such as adding init scripts or otherwise changing how the binaries inside the containers are called.</p> <p>Bazel has a unique way of creating containers, which places the actual binary at a long unusual path. For the v1.7.0 cert-manager-webhook container for example, the binary is placed at <code>/app/cmd/webhook/webhook.runfiles/com_github_jetstack_cert_manager/cmd/webhook/webhook_/webhook</code> and <code>/app/cmd/webhook/webhook</code> is provided as a symlink to the binary.</p> <p>This is simplified in our new build system; we only place a single binary at <code>/app/cmd/webhook/webhook</code> and the old path disappears. This applies to all cert-manager containers.</p> <p>We also removed the "LICENSES" file from the containers and replaced it with a link to the cert-manager repo.</p> <h4 id=exe-extension-on-windows><code>.exe</code> Extension on Windows<a class=headerlink href=#exe-extension-on-windows title="Permanent link">&para;</a></h4> <p>We package <code>cmctl</code> and <code>kubectl_cert-manager</code> for Windows on <code>amd64</code> platforms, but previously the binaries had the same names as the binaries on other platforms, e.g. <code>cmctl</code> with no file extension.</p> <p>In 1.8.0 and later, the binaries now have a <code>.exe</code> extension since this is standard practice on Windows. This could affect you if you're calling the binary in a Powershell script, for example.</p> <p>We've also now added zip-compressed versions of the <code>cmctl</code> and <code>kubectl_cert-manager</code> binaries on Windows, since <code>.tar.gz</code> is less common on Windows.</p> <h4 id=changed-import-path>Changed Import Path<a class=headerlink href=#changed-import-path title="Permanent link">&para;</a></h4> <p>This will only affect you if you're writing code in Go which imports cert-manager as a module, which we generally recommend against doing in most cases.</p> <p>All versions of cert-manager prior to v1.8.0 used a Go import path corresponding to the old cert-manager repository, <code>github.com/jetstack/cert-manager</code>.</p> <p>v1.8.0 marks the first release in which the import path changes to the new location, <code>github.com/cert-manager/cert-manager</code>.</p> <p>We have a guide for <a href=https://cert-manager.io/docs/contributing/importing/ >Importing cert-manager in Go</a> on cert-manager.io with all the details, including details on why we don't recommend importing cert-manager as a module if that's avoidable.</p> <h3 id=major-themes>Major Themes<a class=headerlink href=#major-themes title="Permanent link">&para;</a></h3> <h4 id=server-side-apply>Server-Side Apply<a class=headerlink href=#server-side-apply title="Permanent link">&para;</a></h4> <p>cert-manager v1.8.0 adds initial support for Kubernetes <a href=https://kubernetes.io/docs/reference/using-api/server-side-apply/ >Server-Side Apply</a>, which became stable in Kubernetes 1.22. This support is behind a feature gate for now, and is only supported by cert-manager on Kubernetes 1.22 and later.</p> <p>Server-Side Apply helps to ensure that changes to resources are made in a managed way, and aims to prevent certain classes of bugs. Notably, it should eliminate conflicts when multiple controllers try to apply status changes to a single resource. You'll likely have seen messages relating to this kind of conflict in logs before, e.g.:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a>I0119 12:34:56.000000       1 controller.go:161] cert-manager/controller/certificaterequests-issuer-acme &quot;msg&quot;=&quot;re-queuing item due to optimistic locking on resource&quot; &quot;key&quot;=&quot;my-namespace/my-cr&quot; &quot;error&quot;=&quot;Operation cannot be fulfilled on certificaterequests.cert-manager.io \&quot;my-cr\&quot;: the object has been modified; please apply your changes to the latest version and try again&quot;
</code></pre></div> <p>These conflicts aren't usually actually a problem which will block the issuance of a certificate, but they can delay things as they cause extra reconcile loops. Server-side apply cleans things up, which should mean less noise in logs and fewer pointless reconcile loops.</p> <p>If you want to test it out, you can enable alpha-level cert-manager Server-Side Apply support through the <code>--feature-gates</code> <a href=../../cli/controller/ >controller flag</a>.</p> <h4 id=from-bazel-to-make>From Bazel to Make<a class=headerlink href=#from-bazel-to-make title="Permanent link">&para;</a></h4> <p>A common theme when someone tries to make a change to cert-manager for the first time is that they ask for help with navigating Bazel, which cert-manager used as its build tool. Helping people with Bazel isn't easy; it's an <em>incredibly</em> powerful tool, but that power also brings a lot of complications which can seriously get in the way of being able to make even simple changes to the code base. Even developers who are familiar with contributing to open source projects in Go can find it daunting to make changes thanks to Bazel.</p> <p>The problem isn't limited to open-source contributors; many of cert-manager's maintainers also struggle with configuring and changing Bazel, too.</p> <p>cert-manager 1.8 is the first release which is built and tested using a newly written <code>make</code>-based build system. We believe that this new build system should make it <em>much</em> simpler to understand and change the commands which are being run behind the scenes to build and test cert-manager. In time, we'll fully document the new build system, ensure it's at full feature-parity with Bazel and then remove all references to Bazel across the codebase.</p> <p>A neat side effect of this change is that our build times have significantly improved. Bazel took around 14 minutes to build every cert-manager artifact for every platform during a release, while the new <code>make</code> build system can do the same (and more) in under 5 minutes.</p> <h4 id=exponential-backoff-after-a-failed-issuance>Exponential backoff after a failed issuance<a class=headerlink href=#exponential-backoff-after-a-failed-issuance title="Permanent link">&para;</a></h4> <p>cert-manager v1.8.0 introduces <a href=https://github.com/cert-manager/cert-manager/blob/f8900ad1d8cc9b7c3697d7554911e2959fa56480/design/20220118.certificate-issuance-exponential-backoff.md>exponential backoff after failed certificate issuance</a>.</p> <p>Previously, a failed issuance was retried every hour which — especially in larger cert-manager installations — could cause rate limits to be hit as well as overwhelm external services. Failed attempts are now retried with a binary exponential backoff starting with <code>1h</code> then <code>2h</code>, <code>4h</code> up to a maximum of <code>32h</code>. As part of the new backoff behavior, a new <code>failedIssuanceAttempts</code> field was added to the <code>Certificate</code> spec to track the number of currently failed issuances.</p> <p>The <code>cmctl renew</code> <a href=../../cli/cmctl/ >command</a> command can still be used to force <code>Certificate</code> renewal immediately.</p> <p>We're also considering reducing the initial backoff from 1 hour. If you have a use case where this would be useful please do comment on <a href=https://github.com/cert-manager/cert-manager/issues/4786>our tracking issue</a>.</p> <h2 id=changelog-since-v170>Changelog since v1.7.0<a class=headerlink href=#changelog-since-v170 title="Permanent link">&para;</a></h2> <h3 id=feature>Feature<a class=headerlink href=#feature title="Permanent link">&para;</a></h3> <ul> <li>ACTION REQUIRED: The field <code>spec.privateKey.rotationPolicy</code> on Certificate resources is now validated. Valid options are Never and Always. If you are using a GitOps flow and one of your YAML manifests contains a Certificate with an invalid value, you will need to update it with a valid value to prevent your GitOps tool from failing on the new validation. (<a href=https://github.com/cert-manager/cert-manager/pull/4913>#4913</a>, <a href=https://github.com/jahrlin>@jahrlin</a>)</li> <li>Build: add make targets for running unit and integration tests, as part of the Bazel replacement. (<a href=https://github.com/cert-manager/cert-manager/pull/4865>#4865</a>, <a href=https://github.com/SgtCoDFish>@SgtCoDFish</a>)</li> <li>Build: add make targets for running the end-to-end tests, as part of the Bazel replacement. (<a href=https://github.com/cert-manager/cert-manager/pull/4914>#4914</a>, <a href=https://github.com/maelvls>@maelvls</a>)</li> <li>cert-manager now supports the field <code>spec.expirationSeconds</code> on Kubernetes CertificateSigningRequest resources. Using this field requires Kubernetes 1.22. You can still use the annotation <code>experimental.cert-manager.io/request-duration</code> to request a duration. (<a href=https://github.com/cert-manager/cert-manager/pull/4957>#4957</a>, <a href=https://github.com/enj>@enj</a>)</li> <li>cert-manager now properly updates the content of the data keys <code>tls-combined.pem</code> and <code>key.der</code> on Secret resources that are associated to Certificate resources that use the field <code>additionalOutputFormats</code>. The field <code>additionalOutputFormat</code> is an alpha feature and can be enabled by passing the flag <code>--feature-gates=AdditionalCertificateOutputFormats=true</code> to the cert-manager controller. (<a href=https://github.com/cert-manager/cert-manager/pull/4813>#4813</a>, <a href=https://github.com/JoshVanL>@JoshVanL</a>)</li> <li>ClusterRoles aggregation to user-facing admin/edit/view ClusterRoles can be optionally turned off (<a href=https://github.com/cert-manager/cert-manager/pull/4937>#4937</a>, <a href=https://github.com/illrill>@illrill</a>)</li> <li>ACTION REQUIRED: Server-Side Apply: the feature gate <code>ServerSideApply=true</code> now configures the <code>ingress-shim</code> and <code>gateway-shim</code> controllers to use Kubernetes Server-Side Apply on Certificate resources. When upgrading to cert-manager 1.8 with <code>ServerSideApply=true</code>, do make sure there are no Challenge resources currently in the cluster. If there are some, you will need to manually delete them once they are in 'valid' state as cert-manager post-1.8 with the Server-Side Apply feature is not able to clean up Challenge resources created pre-1.8. (<a href=https://github.com/cert-manager/cert-manager/pull/4811>#4811</a>, <a href=https://github.com/JoshVanL>@JoshVanL</a>)</li> <li>Server-Side Apply: the feature gate <code>ServerSideApply=true</code> configures the <code>certificaterequests-*</code> controllers to use Kubernetes Server-Side Apply on CertificateRequest resources. (<a href=https://github.com/cert-manager/cert-manager/pull/4792>#4792</a>, <a href=https://github.com/JoshVanL>@JoshVanL</a>)</li> <li>Server-Side Apply: the feature gate <code>ServerSideApply=true</code> configures the <code>certificates-*</code> controllers to use Kubernetes Server-Side Apply on Certificate resources. (<a href=https://github.com/cert-manager/cert-manager/pull/4777>#4777</a>, <a href=https://github.com/JoshVanL>@JoshVanL</a>)</li> <li>Server-Side Apply: the feature gate <code>ServerSideApply=true</code> configures the CertificateSigningRequest controllers to use Kubernetes Server-Side Apply on CertificateSigningRequest resources. (<a href=https://github.com/cert-manager/cert-manager/pull/4798>#4798</a>, <a href=https://github.com/JoshVanL>@JoshVanL</a>)</li> <li>Server-Side Apply: the feature gate <code>ServerSideApply=true</code> configures the <code>issuers</code> and <code>clusterissuers</code> controllers to use Kubernetes Server-Side Apply on Issuer and ClusterIssuer resources. (<a href=https://github.com/cert-manager/cert-manager/pull/4794>#4794</a>, <a href=https://github.com/JoshVanL>@JoshVanL</a>)</li> <li>Server-Side Apply: the feature gate <code>ServerSideApply=true</code> configures the <code>orders</code> controller to use Kubernetes Server-Side Apply on Order resources. (<a href=https://github.com/cert-manager/cert-manager/pull/4799>#4799</a>, <a href=https://github.com/JoshVanL>@JoshVanL</a>)</li> <li>The annotation <code>experimental.cert-manager.io/request-duration</code> now has a minimum value of 600 seconds. This annotation This change ensures compatibility with the Kubernetes resource CertificateSigningRequest, which requires a minimum of 600 seconds on the field <code>spec.expirationSeconds</code>. (<a href=https://github.com/cert-manager/cert-manager/pull/4973>#4973</a>, <a href=https://github.com/irbekrm>@irbekrm</a>)</li> <li>The annotation <code>ingress.kubernetes.io/whitelist-source-range</code> used by the Ingress shim when creating Ingress resources can now be overridden by setting the field <code>ingressTemplate</code> on the Issuer and ClusterIssuer. (<a href=https://github.com/cert-manager/cert-manager/pull/4789>#4789</a>, <a href=https://github.com/tasharnvb>@tasharnvb</a>)</li> <li>The experimental Gateway API support now uses the v1alpha2 CRDs. (<a href=https://github.com/cert-manager/cert-manager/pull/4791>#4791</a>, <a href=https://github.com/jakexks>@jakexks</a>)</li> <li>The user-agent used by cert-manager in its Kubernetes API clients and ACME clients now takes the form <code>cert-manager-&lt;component name&gt;/&lt;version&gt; (&lt;os&gt;/&lt;arch&gt;) cert-manager/&lt;git commit&gt;</code>. Another change is the addition of specific field managers strings; previously, all the controllers had the same field manager <code>cert-manager</code>. Now, each controller has its own field manager string of the form <code>cert-manager-&lt;controller name&gt;</code>. (<a href=https://github.com/cert-manager/cert-manager/pull/4773>#4773</a>, <a href=https://github.com/JoshVanL>@JoshVanL</a>)</li> <li>You can now uninstall cert-manager using the command <code>cmctl experimental uninstall</code>. (<a href=https://github.com/cert-manager/cert-manager/pull/4897>#4897</a>, <a href=https://github.com/jahrlin>@jahrlin</a>)</li> <li>You can now use an external issuer resource as the default issuer when using the Ingress shim feature. The default issuer can be set using the flags <code>--default-issuer-group</code>, <code>--default-issuer-kind</code>, and <code>--default-issuer-name</code>. (<a href=https://github.com/cert-manager/cert-manager/pull/4833>#4833</a>, <a href=https://github.com/jakexks>@jakexks</a>)</li> </ul> <h3 id=design>Design<a class=headerlink href=#design title="Permanent link">&para;</a></h3> <ul> <li>ACTION REQUIRED: The import path for cert-manager has been updated to <code>github.com/cert-manager/cert-manager</code>. If you import cert-manager as a go module (which isn't currently recommended), you'll need to update the module import path in your code to import cert-manager 1.8 or later. (<a href=https://github.com/cert-manager/cert-manager/pull/4587>#4587</a>, <a href=https://github.com/SgtCoDFish>@SgtCoDFish</a>)</li> </ul> <h3 id=bug-or-regression>Bug or Regression<a class=headerlink href=#bug-or-regression title="Permanent link">&para;</a></h3> <ul> <li>ACTION REQUIRED: The field <code>additionalOutputFormats</code>, which is available as an alpha feature on Certificate resources, is now correctly validated. Previously, it would only get validated when the <code>privateKey</code> field was set on the Certificate. If you are using the <code>additionalOutputFormats</code> field, you will want to add the feature gate <code>AdditionalCertificateOutputFormats</code> to both the webhook and the controller. Previously, you only needed to set <code>AdditionalCertificateOutputFormats</code> on the controller. If the feature gate is missing on either the controller or the webhook, you won't be able to use the <code>additionalOutputFormat</code> field. (<a href=https://github.com/cert-manager/cert-manager/pull/4814>#4814</a>, <a href=https://github.com/JoshVanL>@JoshVanL</a>)</li> <li>The Go version used to build the cert-manager binaries has been bumped to 1.17.8 to fix a slew of CVEs (none of which were likely to be exploited). (<a href=https://github.com/cert-manager/cert-manager/pull/4970>#4970</a>, <a href=https://github.com/vhosakot>@vhosakot</a>)</li> <li>Helm: the default nodeSelector is now <code>kubernetes.io/os: linux</code>. If this label isn't present on any nodes in the cluster, the <code>nodeSelector</code> will need to be overwritten, or that label added to some nodes. (<a href=https://github.com/cert-manager/cert-manager/pull/3605>#3605</a>, <a href=https://github.com/mikebryant>@mikebryant</a>)</li> <li>Use multivalue records instead of simple records for the AWS Route53 ACME DNS challenge solver, to allow for multiple challenges for the same domain at the same time (<a href=https://github.com/cert-manager/cert-manager/pull/4793>#4793</a>, <a href=https://github.com/fvlaicu>@fvlaicu</a>)</li> </ul> <h3 id=other-cleanup-or-flake_1>Other (Cleanup or Flake)<a class=headerlink href=#other-cleanup-or-flake_1 title="Permanent link">&para;</a></h3> <ul> <li>Aggregated admin and edit roles will now include permissions to update certificates' status, which will allow namespace admins and editors to run the <code>cmctl renew</code> command in their namespaces. (<a href=https://github.com/cert-manager/cert-manager/pull/4955>#4955</a>, <a href=https://github.com/andreadecorte>@andreadecorte</a>)</li> <li>Cleanup: No longer log an error when cert-manager encounters a conflict in the secrets manager, in favor of always force applying. (<a href=https://github.com/cert-manager/cert-manager/pull/4815>#4815</a>, <a href=https://github.com/JoshVanL>@JoshVanL</a>)</li> <li>Failed certificate issuances are now retried with an exponential backoff where the backoff periods are <code>1h</code>, <code>2h</code>, <code>4h</code>, <code>8h</code>, <code>16h</code>, <code>32h</code>. A new field <code>failedIssuanceAttempts</code> is now set by cert-manager on the Certificate status. This field keeps track of consecutive failed issuances. The backoff period gets reset after a successful issuance. Like before, updating a field on a failed Certificate (such as <code>spec.dnsNames</code>) or running the command <code>cmctl renew</code> continues to trigger a re-issuance. (<a href=https://github.com/cert-manager/cert-manager/pull/4772>#4772</a>, <a href=https://github.com/irbekrm>@irbekrm</a>)</li> <li>When starting up, cert-manager now solely relies on Lease objects to perform the leader election. Previously, cert-manager supported both ConfigMap and Lease objects for leader election. Existing ConfigMap resources used for leader election will remain and will need deleting manually. A side effect of this is that you cannot upgrade to v1.8.0 from cert-manager 1.3 (although upgrading multiple versions at a time was never supported). (<a href=https://github.com/cert-manager/cert-manager/pull/4935>#4935</a>, <a href=https://github.com/davidsbond>@davidsbond</a>)</li> <li>Helm: you can now set custom labels on the ServiceAccount resources using the values <code>serviceAccount.labels</code>, <code>cainjector.serviceAccount.labels</code>, <code>webhook.serviceAccount.labels</code>, and <code>startupapicheck.serviceAccount.labels</code>. (<a href=https://github.com/cert-manager/cert-manager/pull/4932>#4932</a>, <a href=https://github.com/4molybdenum2>@4molybdenum2</a>)</li> </ul> <h3 id=uncategorized>Uncategorized<a class=headerlink href=#uncategorized title="Permanent link">&para;</a></h3> <ul> <li>Introducing a new metric <code>controller_sync_error_count</code> counting the number of errors during sync() of a controller. (<a href=https://github.com/cert-manager/cert-manager/pull/4987>#4987</a>, <a href=https://github.com/jayme-github>@jayme-github</a>)</li> <li>When creating an acmesolver pod, cert-manager now sets <code>allowPrivilegeEscalation</code> to <code>false</code> by default. The Helm chart now also sets <code>securityContext.allowPrivilegeEscalation</code> to <code>false</code> by default for the controller, cainjector, and webhook pods as well as for the startupapicheck job. (<a href=https://github.com/cert-manager/cert-manager/pull/4953>#4953</a>, <a href=https://github.com/ajvn>@ajvn</a>)</li> </ul> </article> </div> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> 回到页面顶部 </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> © 2022 The cert-manager Authors. © 2022 The Linux Foundation. All rights reserved. </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/cert-manager/cert-manager target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href=https://infosec.exchange/@CertManager target=_blank rel="noopener me" title=infosec.exchange class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M433 179.11c0-97.2-63.71-125.7-63.71-125.7-62.52-28.7-228.56-28.4-290.48 0 0 0-63.72 28.5-63.72 125.7 0 115.7-6.6 259.4 105.63 289.1 40.51 10.7 75.32 13 103.33 11.4 50.81-2.8 79.32-18.1 79.32-18.1l-1.7-36.9s-36.31 11.4-77.12 10.1c-40.41-1.4-83-4.4-89.63-54a102.54 102.54 0 0 1-.9-13.9c85.63 20.9 158.65 9.1 178.75 6.7 56.12-6.7 105-41.3 111.23-72.9 9.8-49.8 9-121.5 9-121.5zm-75.12 125.2h-46.63v-114.2c0-49.7-64-51.6-64 6.9v62.5h-46.33V197c0-58.5-64-56.6-64-6.9v114.2H90.19c0-122.1-5.2-147.9 18.41-175 25.9-28.9 79.82-30.8 103.83 6.1l11.6 19.5 11.6-19.5c24.11-37.1 78.12-34.8 103.83-6.1 23.71 27.3 18.4 53 18.4 175z"/></svg> </a> <a href=https://twitter.com/CertManager/ target=_blank rel=noopener title=twitter.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["content.code.annotate", "content.tooltips", "navigation.indexes", "navigation.sections", "navigation.tabs", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script> <script src=../../assets/javascripts/bundle.b4d07000.min.js></script> </body> </html>