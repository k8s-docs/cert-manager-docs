<!doctype html><html lang=zh class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="cert-manager release notes: cert-manager v1.5"><meta name=author content="James Munnelly"><link href=https://cert-manager.io/release-notes/release-notes-1.5/ rel=canonical><link href=../release-notes-1.6/ rel=prev><link href=../release-notes-1.4/ rel=next><link rel=icon href=../../assets/favicon.png><meta name=generator content="mkdocs-1.4.3, mkdocs-material-9.1.15"><title>Release 1.5 - cert-manager</title><link rel=stylesheet href=../../assets/stylesheets/main.26e3688c.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.ecc896b0.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#v155 class=md-skip> 跳转至 </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=页眉> <a href=../.. title=cert-manager class="md-header__button md-logo" aria-label=cert-manager data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 89 89"> <path d=M3.136,17.387l0,42.932l42.932,21.467l-42.932,-64.399Z /> <path d=M21.91,8l42.933,64.398l-18.775,9.388l-42.932,-64.399l18.774,-9.387Z style="fill-opacity: 0.5"/> <path d=M67.535,17.387l-27.262,18.156l21.878,32.818l5.384,2.691l0,-53.665Z /> <path d=M67.535,17.387l0,53.666l18.774,-9.388l0,-53.665l-18.774,9.387Z style="fill-opacity: 0.25"/> </svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> cert-manager </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Release 1.5 </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> </form> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=搜索 placeholder=搜索 autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=查找> <a href=javascript:void(0) class="md-search__icon md-icon" title=分享 aria-label=分享 data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=清空当前内容 aria-label=清空当前内容 tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> 正在初始化搜索引擎 </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/cert-manager/cert-manager title=前往仓库 class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> cert-manager/cert-manager </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=标签 data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> 简介 </a> </li> <li class=md-tabs__item> <a href=../../installation/ class=md-tabs__link> 安装 </a> </li> <li class=md-tabs__item> <a href=../../configuration/ class=md-tabs__link> 配置 </a> </li> <li class=md-tabs__item> <a href=../../usage/ class=md-tabs__link> 使用 </a> </li> <li class=md-tabs__item> <a href=../../tutorials/ class=md-tabs__link> 手册 </a> </li> <li class=md-tabs__item> <a href=../../projects/ class=md-tabs__link> 项目 </a> </li> <li class=md-tabs__item> <a href=../../troubleshooting/ class=md-tabs__link> 故障排除 </a> </li> <li class=md-tabs__item> <a href=../../concepts/ class=md-tabs__link> 概念 </a> </li> <li class=md-tabs__item> <a href=../../reference/ class=md-tabs__link> 参考 </a> </li> <li class=md-tabs__item> <a href=../../contributing/ class=md-tabs__link> 贡献 </a> </li> <li class=md-tabs__item> <a href=../ class="md-tabs__link md-tabs__link--active"> 发布说明 </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=导航栏 data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title=cert-manager class="md-nav__button md-logo" aria-label=cert-manager data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 89 89"> <path d=M3.136,17.387l0,42.932l42.932,21.467l-42.932,-64.399Z /> <path d=M21.91,8l42.933,64.398l-18.775,9.388l-42.932,-64.399l18.774,-9.387Z style="fill-opacity: 0.5"/> <path d=M67.535,17.387l-27.262,18.156l21.878,32.818l5.384,2.691l0,-53.665Z /> <path d=M67.535,17.387l0,53.666l18.774,-9.388l0,-53.665l-18.774,9.387Z style="fill-opacity: 0.25"/> </svg> </a> cert-manager </label> <div class=md-nav__source> <a href=https://github.com/cert-manager/cert-manager title=前往仓库 class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> cert-manager/cert-manager </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_1> <div class="md-nav__link md-nav__link--index "> <a href=../..>简介</a> <label for=__nav_1> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_1_label aria-expanded=false> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> 简介 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../getting-started/ class=md-nav__link> 入门 </a> </li> <li class=md-nav__item> <a href=../../faq/ class=md-nav__link> FAQ </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <div class="md-nav__link md-nav__link--index "> <a href=../../installation/ >安装</a> <label for=__nav_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> 安装 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../installation/supported-releases/ class=md-nav__link> 支持版本 </a> </li> <li class=md-nav__item> <a href=../../installation/compatibility/ class=md-nav__link> 云兼容性 </a> </li> <li class=md-nav__item> <a href=../../installation/kubectl/ class=md-nav__link> kubectl apply </a> </li> <li class=md-nav__item> <a href=../../installation/helm/ class=md-nav__link> Helm </a> </li> <li class=md-nav__item> <a href=../../installation/operator-lifecycle-manager/ class=md-nav__link> OperatorHub (OLM) </a> </li> <li class=md-nav__item> <a href=../../installation/other-tools/ class=md-nav__link> 其他工具 </a> </li> <li class=md-nav__item> <a href=../../installation/verify/ class=md-nav__link> 验证 </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_9> <div class="md-nav__link md-nav__link--index "> <a href=../../installation/upgrading/ >更新</a> <label for=__nav_2_9> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_9_label aria-expanded=false> <label class=md-nav__title for=__nav_2_9> <span class="md-nav__icon md-icon"></span> 更新 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../installation/upgrading/ingress-class-compatibility/ class=md-nav__link> 关于入类兼容性的说明 </a> </li> <li class=md-nav__item> <a href=../../installation/upgrading/remove-deprecated-apis/ class=md-nav__link> 迁移废弃的API源 </a> </li> <li class=md-nav__item> <a href=../../installation/upgrading/upgrading-1.9-1.10/ class=md-nav__link> v1.9 to v1.10 </a> </li> <li class=md-nav__item> <a href=../../installation/upgrading/upgrading-1.8-1.9/ class=md-nav__link> v1.8 to v1.9 </a> </li> <li class=md-nav__item> <a href=../../installation/upgrading/upgrading-1.7-1.8/ class=md-nav__link> v1.7 to v1.8 </a> </li> <li class=md-nav__item> <a href=../../installation/upgrading/upgrading-1.6-1.7/ class=md-nav__link> v1.6 to v1.7 </a> </li> <li class=md-nav__item> <a href=../../installation/upgrading/upgrading-1.5-1.6/ class=md-nav__link> v1.5 to v1.6 </a> </li> <li class=md-nav__item> <a href=../../installation/upgrading/upgrading-1.4-1.5/ class=md-nav__link> v1.4 to v1.5 </a> </li> <li class=md-nav__item> <a href=../../installation/upgrading/upgrading-1.3-1.4/ class=md-nav__link> v1.3 to v1.4 </a> </li> <li class=md-nav__item> <a href=../../installation/upgrading/upgrading-1.2-1.3/ class=md-nav__link> v1.2 to v1.3 </a> </li> <li class=md-nav__item> <a href=../../installation/upgrading/upgrading-1.1-1.2/ class=md-nav__link> v1.1 to v1.2 </a> </li> <li class=md-nav__item> <a href=../../installation/upgrading/upgrading-1.0-1.1/ class=md-nav__link> v1.0 to v1.1 </a> </li> <li class=md-nav__item> <a href=../../installation/upgrading/upgrading-0.16-1.0/ class=md-nav__link> v0.16 to v1.0 </a> </li> <li class=md-nav__item> <a href=../../installation/upgrading/upgrading-0.15-0.16/ class=md-nav__link> v0.15 to v0.16 </a> </li> <li class=md-nav__item> <a href=../../installation/upgrading/upgrading-0.14-0.15/ class=md-nav__link> v0.14 to v0.15 </a> </li> <li class=md-nav__item> <a href=../../installation/upgrading/upgrading-0.13-0.14/ class=md-nav__link> v0.13 to v0.14 </a> </li> <li class=md-nav__item> <a href=../../installation/upgrading/upgrading-0.12-0.13/ class=md-nav__link> v0.12 to v0.13 </a> </li> <li class=md-nav__item> <a href=../../installation/upgrading/upgrading-0.11-0.12/ class=md-nav__link> v0.11 to v0.12 </a> </li> <li class=md-nav__item> <a href=../../installation/upgrading/upgrading-0.10-0.11/ class=md-nav__link> v0.10 to v0.11 </a> </li> <li class=md-nav__item> <a href=../../installation/upgrading/upgrading-0.9-0.10/ class=md-nav__link> v0.9 to v0.10 </a> </li> <li class=md-nav__item> <a href=../../installation/upgrading/upgrading-0.8-0.9/ class=md-nav__link> v0.8 to v0.9 </a> </li> <li class=md-nav__item> <a href=../../installation/upgrading/upgrading-0.7-0.8/ class=md-nav__link> v0.7 to v0.8 </a> </li> <li class=md-nav__item> <a href=../../installation/upgrading/upgrading-0.6-0.7/ class=md-nav__link> v0.6 to v0.7 </a> </li> <li class=md-nav__item> <a href=../../installation/upgrading/upgrading-0.5-0.6/ class=md-nav__link> v0.5 to v0.6 </a> </li> <li class=md-nav__item> <a href=../../installation/upgrading/upgrading-0.4-0.5/ class=md-nav__link> v0.4 to v0.5 </a> </li> <li class=md-nav__item> <a href=../../installation/upgrading/upgrading-0.3-0.4/ class=md-nav__link> v0.3 to v0.4 </a> </li> <li class=md-nav__item> <a href=../../installation/upgrading/upgrading-0.2-0.3/ class=md-nav__link> v0.2 to v0.3 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../installation/uninstall/ class=md-nav__link> 卸载 </a> </li> <li class=md-nav__item> <a href=../../installation/api-compatibility/ class=md-nav__link> API兼容性 </a> </li> <li class=md-nav__item> <a href=../../installation/code-signing/ class=md-nav__link> 签名验证 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <div class="md-nav__link md-nav__link--index "> <a href=../../configuration/ >配置</a> <label for=__nav_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> 配置 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2> <div class="md-nav__link md-nav__link--index "> <a href=../../configuration/acme/ >ACME</a> <label for=__nav_3_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2> <span class="md-nav__icon md-icon"></span> ACME </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2_2> <div class="md-nav__link md-nav__link--index "> <a href=../../configuration/acme/http01/ >HTTP01</a> <label for=__nav_3_2_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2_2> <span class="md-nav__icon md-icon"></span> HTTP01 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../configuration/acme/http01/externalloadbalancer/ class=md-nav__link> 外部负载均衡器 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2_3> <div class="md-nav__link md-nav__link--index "> <a href=../../configuration/acme/dns01/ >DNS01</a> <label for=__nav_3_2_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_2_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2_3> <span class="md-nav__icon md-icon"></span> DNS01 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../configuration/acme/dns01/alidns-webhook/ class=md-nav__link> ALIDNS </a> </li> <li class=md-nav__item> <a href=../../configuration/acme/dns01/cert-manager-alidns-webhook/ class=md-nav__link> CMAW </a> </li> <li class=md-nav__item> <a href=../../configuration/acme/dns01/acme-dns/ class=md-nav__link> ACMEDNS </a> </li> <li class=md-nav__item> <a href=../../configuration/acme/dns01/akamai/ class=md-nav__link> Akamai </a> </li> <li class=md-nav__item> <a href=../../configuration/acme/dns01/azuredns/ class=md-nav__link> AzureDNS </a> </li> <li class=md-nav__item> <a href=../../configuration/acme/dns01/cloudflare/ class=md-nav__link> Cloudflare </a> </li> <li class=md-nav__item> <a href=../../configuration/acme/dns01/digitalocean/ class=md-nav__link> DigitalOcean </a> </li> <li class=md-nav__item> <a href=../../configuration/acme/dns01/google/ class=md-nav__link> Google CloudDNS </a> </li> <li class=md-nav__item> <a href=../../configuration/acme/dns01/rfc2136/ class=md-nav__link> RFC-2136 </a> </li> <li class=md-nav__item> <a href=../../configuration/acme/dns01/route53/ class=md-nav__link> Route53 </a> </li> <li class=md-nav__item> <a href=../../configuration/acme/dns01/webhook/ class=md-nav__link> Webhook </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../configuration/selfsigned/ class=md-nav__link> SelfSigned </a> </li> <li class=md-nav__item> <a href=../../configuration/ca/ class=md-nav__link> CA </a> </li> <li class=md-nav__item> <a href=../../configuration/vault/ class=md-nav__link> Vault </a> </li> <li class=md-nav__item> <a href=../../configuration/venafi/ class=md-nav__link> Venafi </a> </li> <li class=md-nav__item> <a href=../../configuration/external/ class=md-nav__link> External </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <div class="md-nav__link md-nav__link--index "> <a href=../../usage/ >使用</a> <label for=__nav_4> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> 使用 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../usage/certificate/ class=md-nav__link> 证书源 </a> </li> <li class=md-nav__item> <a href=../../usage/ingress/ class=md-nav__link> 保护入口源 </a> </li> <li class=md-nav__item> <a href=../../usage/gateway/ class=md-nav__link> 保护网关源 </a> </li> <li class=md-nav__item> <a href=../../usage/prometheus-metrics/ class=md-nav__link> Prometheus Metrics </a> </li> <li class=md-nav__item> <a href=../../usage/istio/ class=md-nav__link> 保护Istio服务网格 </a> </li> <li class=md-nav__item> <a href=../../usage/csi/ class=md-nav__link> CSI驱动 </a> </li> <li class=md-nav__item> <a href=../../usage/kube-csr/ class=md-nav__link> Kubernetes CertificateSigningRequests </a> </li> <li class=md-nav__item> <a href=../../usage/approver-policy/ class=md-nav__link> cert-manager 证书的策略 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5> <div class="md-nav__link md-nav__link--index "> <a href=../../tutorials/ >手册</a> <label for=__nav_5> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> 手册 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../tutorials/kubenetes-aliyun-https/ class=md-nav__link> 阿里云K8s部署 </a> </li> <li class=md-nav__item> <a href=../../tutorials/acme/http-validation/ class=md-nav__link> HTTP 验证 </a> </li> <li class=md-nav__item> <a href=../../tutorials/acme/dns-validation/ class=md-nav__link> DNS 验证 </a> </li> <li class=md-nav__item> <a href=../../tutorials/acme/nginx-ingress/ class=md-nav__link> NGINX-ingress </a> </li> <li class=md-nav__item> <a href=../../tutorials/backup/ class=md-nav__link> 备份恢复源 </a> </li> <li class=md-nav__item> <a href=../../tutorials/syncing-secrets-across-namespaces/ class=md-nav__link> 跨命名空间同步秘密 </a> </li> <li class=md-nav__item> <a href=../../tutorials/istio-csr/istio-csr/ class=md-nav__link> 保护istio Service Mesh </a> </li> <li class=md-nav__item> <a href=../../tutorials/getting-started-with-cert-manager-on-google-kubernetes-engine-using-lets-encrypt-for-ingress-ssl/ class=md-nav__link> GKE+Ingress+Let's Encrypt </a> </li> <li class=md-nav__item> <a href=../../tutorials/acme/migrating-from-kube-lego/ class=md-nav__link> 迁移Kube-LEGO </a> </li> <li class=md-nav__item> <a href=../../tutorials/acme/pomerium-ingress/ class=md-nav__link> Pomerium Ingress </a> </li> <li class=md-nav__item> <a href=../../tutorials/venafi/venafi/ class=md-nav__link> EKS+Ingress+Venafi </a> </li> <li class=md-nav__item> <a href=../../tutorials/zerossl/zerossl/ class=md-nav__link> 用ZeroSSL保护入口 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6> <div class="md-nav__link md-nav__link--index "> <a href=../../projects/ >项目</a> <label for=__nav_6> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> 项目 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../projects/istio-csr/ class=md-nav__link> istio-csr </a> </li> <li class=md-nav__item> <a href=../../projects/csi-driver/ class=md-nav__link> csi-driver </a> </li> <li class=md-nav__item> <a href=../../projects/csi-driver-spiffe/ class=md-nav__link> csi-driver-spiffe </a> </li> <li class=md-nav__item> <a href=../../projects/approver-policy/ class=md-nav__link> approver-policy </a> </li> <li class=md-nav__item> <a href=../../projects/trust-manager/ class=md-nav__link> trust-manager </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7> <div class="md-nav__link md-nav__link--index "> <a href=../../troubleshooting/ >故障排除</a> <label for=__nav_7> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> 故障排除 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../troubleshooting/acme/ class=md-nav__link> ACME/Let's Encrypt 证书故障处理 </a> </li> <li class=md-nav__item> <a href=../../troubleshooting/webhook/ class=md-nav__link> webhook故障处理 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8> <div class="md-nav__link md-nav__link--index "> <a href=../../concepts/ >概念</a> <label for=__nav_8> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_8_label aria-expanded=false> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> 概念 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../concepts/issuer/ class=md-nav__link> Issuer(颁发者) </a> </li> <li class=md-nav__item> <a href=../../concepts/certificate/ class=md-nav__link> Certificate(证书) </a> </li> <li class=md-nav__item> <a href=../../concepts/certificaterequest/ class=md-nav__link> CertificateRequest(证书请求) </a> </li> <li class=md-nav__item> <a href=../../concepts/acme-orders-challenges/ class=md-nav__link> ACME Orders(命令)和Challenges(挑战) </a> </li> <li class=md-nav__item> <a href=../../concepts/webhook/ class=md-nav__link> Webhook(Web钩子) </a> </li> <li class=md-nav__item> <a href=../../concepts/ca-injector/ class=md-nav__link> CA Injector(CA 注射器) </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9> <div class="md-nav__link md-nav__link--index "> <a href=../../reference/ >参考</a> <label for=__nav_9> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_9_label aria-expanded=false> <label class=md-nav__title for=__nav_9> <span class="md-nav__icon md-icon"></span> 参考 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../reference/cmctl/ class=md-nav__link> 命令行工具 (cmctl) </a> </li> <li class=md-nav__item> <a href=../../reference/tls-terminology/ class=md-nav__link> TLS 术语 </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_4> <div class="md-nav__link md-nav__link--index "> <a href=../../cli/ >组件/ Docker映像</a> <label for=__nav_9_4> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_9_4_label aria-expanded=false> <label class=md-nav__title for=__nav_9_4> <span class="md-nav__icon md-icon"></span> 组件/ Docker映像 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../cli/acmesolver/ class=md-nav__link> acmesolver </a> </li> <li class=md-nav__item> <a href=../../cli/cainjector/ class=md-nav__link> cainjector </a> </li> <li class=md-nav__item> <a href=../../cli/cmctl/ class=md-nav__link> cmctl </a> </li> <li class=md-nav__item> <a href=../../cli/controller/ class=md-nav__link> controller </a> </li> <li class=md-nav__item> <a href=../../cli/webhook/ class=md-nav__link> webhook </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../reference/api-docs/ class=md-nav__link> API 参考 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_10> <div class="md-nav__link md-nav__link--index "> <a href=../../contributing/ >贡献</a> <label for=__nav_10> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_10_label aria-expanded=false> <label class=md-nav__title for=__nav_10> <span class="md-nav__icon md-icon"></span> 贡献 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../contributing/policy/ class=md-nav__link> 功能政策 </a> </li> <li class=md-nav__item> <a href=../../contributing/building/ class=md-nav__link> 构建 cert-manager </a> </li> <li class=md-nav__item> <a href=../../contributing/contributing-flow/ class=md-nav__link> 流的贡献 </a> </li> <li class=md-nav__item> <a href=../../contributing/crds/ class=md-nav__link> CRDs </a> </li> <li class=md-nav__item> <a href=../../contributing/dns-providers/ class=md-nav__link> DNS Providers </a> </li> <li class=md-nav__item> <a href=../../contributing/e2e/ class=md-nav__link> 运行端到端测试 </a> </li> <li class=md-nav__item> <a href=../../contributing/external-issuers/ class=md-nav__link> 实施外部发行人 </a> </li> <li class=md-nav__item> <a href=../../contributing/sign-off/ class=md-nav__link> DCO签署 </a> </li> <li class=md-nav__item> <a href=../../contributing/release-process/ class=md-nav__link> 发布过程 </a> </li> <li class=md-nav__item> <a href=../../contributing/kind/ class=md-nav__link> 与人为善 </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_10_12> <div class="md-nav__link md-nav__link--index "> <a href=../../contributing/google-season-of-docs/ >谷歌文档季</a> <label for=__nav_10_12> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_10_12_label aria-expanded=false> <label class=md-nav__title for=__nav_10_12> <span class="md-nav__icon md-icon"></span> 谷歌文档季 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_10_12_2> <div class="md-nav__link md-nav__link--index "> <a href=../../contributing/google-season-of-docs/2022/ >2022</a> <label for=__nav_10_12_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_10_12_2_label aria-expanded=false> <label class=md-nav__title for=__nav_10_12_2> <span class="md-nav__icon md-icon"></span> 2022 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../contributing/google-season-of-docs/2022/improve-navigation-and-structure/ class=md-nav__link> 改进cert-manager网站的导航和结构 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../contributing/security/ class=md-nav__link> 报告安全问题 </a> </li> <li class=md-nav__item> <a href=../../contributing/coding-conventions/ class=md-nav__link> 代码编写约定 </a> </li> <li class=md-nav__item> <a href=../../contributing/third-party-code-donation/ class=md-nav__link> 第三方代码捐赠 </a> </li> <li class=md-nav__item> <a href=../../contributing/signing-keys/ class=md-nav__link> 签名密钥 </a> </li> <li class=md-nav__item> <a href=../../contributing/importing/ class=md-nav__link> 在Go中导入证书管理器 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_11 checked> <div class="md-nav__link md-nav__link--index "> <a href=../ >发布说明</a> <label for=__nav_11> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_11_label aria-expanded=true> <label class=md-nav__title for=__nav_11> <span class="md-nav__icon md-icon"></span> 发布说明 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../release-notes-1.10/ class=md-nav__link> v1.10 </a> </li> <li class=md-nav__item> <a href=../release-notes-1.9/ class=md-nav__link> v1.9 </a> </li> <li class=md-nav__item> <a href=../release-notes-1.8/ class=md-nav__link> v1.8 </a> </li> <li class=md-nav__item> <a href=../release-notes-1.7/ class=md-nav__link> v1.7 </a> </li> <li class=md-nav__item> <a href=../release-notes-1.6/ class=md-nav__link> v1.6 </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> v1.5 <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> v1.5 </a> <nav class="md-nav md-nav--secondary" aria-label=目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#v155 class=md-nav__link> v1.5.5 </a> <nav class=md-nav aria-label=v1.5.5> <ul class=md-nav__list> <li class=md-nav__item> <a href=#changelog-since-v154 class=md-nav__link> Changelog since v1.5.4 </a> <nav class=md-nav aria-label="Changelog since v1.5.4"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#bug-or-regression class=md-nav__link> Bug or Regression </a> </li> <li class=md-nav__item> <a href=#other-cleanup-or-flake class=md-nav__link> Other (Cleanup or Flake) </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#v154 class=md-nav__link> v1.5.4 </a> <nav class=md-nav aria-label=v1.5.4> <ul class=md-nav__list> <li class=md-nav__item> <a href=#changelog-since-v153 class=md-nav__link> Changelog since v1.5.3 </a> <nav class=md-nav aria-label="Changelog since v1.5.3"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#bug-or-regression_1 class=md-nav__link> Bug or Regression </a> </li> <li class=md-nav__item> <a href=#other-cleanup-or-flake_1 class=md-nav__link> Other (Cleanup or Flake) </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#v153 class=md-nav__link> v1.5.3 </a> <nav class=md-nav aria-label=v1.5.3> <ul class=md-nav__list> <li class=md-nav__item> <a href=#changelog-since-v152 class=md-nav__link> Changelog since v1.5.2 </a> <nav class=md-nav aria-label="Changelog since v1.5.2"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#bug-or-regression_2 class=md-nav__link> Bug or Regression </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#v152 class=md-nav__link> v1.5.2 </a> <nav class=md-nav aria-label=v1.5.2> <ul class=md-nav__list> <li class=md-nav__item> <a href=#changelog-since-v151 class=md-nav__link> Changelog since v1.5.1 </a> <nav class=md-nav aria-label="Changelog since v1.5.1"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#bug-or-regression_3 class=md-nav__link> Bug or Regression </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#v151 class=md-nav__link> v1.5.1 </a> <nav class=md-nav aria-label=v1.5.1> <ul class=md-nav__list> <li class=md-nav__item> <a href=#changelog-since-v150 class=md-nav__link> Changelog since v1.5.0 </a> <nav class=md-nav aria-label="Changelog since v1.5.0"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#bug-or-regression_4 class=md-nav__link> Bug or Regression </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#v150 class=md-nav__link> v1.5.0 </a> <nav class=md-nav aria-label=v1.5.0> <ul class=md-nav__list> <li class=md-nav__item> <a href=#major-themes class=md-nav__link> Major Themes </a> <nav class=md-nav aria-label="Major Themes"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#api-deprecation class=md-nav__link> API Deprecation </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#experimental-features class=md-nav__link> Experimental Features </a> <nav class=md-nav aria-label="Experimental Features"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#gateway-api class=md-nav__link> Gateway API </a> </li> <li class=md-nav__item> <a href=#certificatesigningrequests class=md-nav__link> CertificateSigningRequests </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#user-experience class=md-nav__link> User Experience </a> <nav class=md-nav aria-label="User Experience"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#kubectl-plugin class=md-nav__link> kubectl plugin </a> </li> <li class=md-nav__item> <a href=#helm-chart class=md-nav__link> Helm chart </a> </li> <li class=md-nav__item> <a href=#labels-and-annotations-on-generated-secret-and-certificaterequest-resources class=md-nav__link> Labels and annotations on generated Secret and CertificateRequest resources </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#community class=md-nav__link> Community </a> <nav class=md-nav aria-label=Community> <ul class=md-nav__list> <li class=md-nav__item> <a href=#new-features class=md-nav__link> New Features </a> </li> <li class=md-nav__item> <a href=#bug-or-regression_5 class=md-nav__link> Bug or Regression </a> </li> <li class=md-nav__item> <a href=#other-cleanup-or-flake_2 class=md-nav__link> Other (Cleanup or Flake) </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../release-notes-1.4/ class=md-nav__link> v1.4 </a> </li> <li class=md-nav__item> <a href=../release-notes-1.3/ class=md-nav__link> v1.3 </a> </li> <li class=md-nav__item> <a href=../release-notes-1.2/ class=md-nav__link> v1.2 </a> </li> <li class=md-nav__item> <a href=../release-notes-1.1/ class=md-nav__link> v1.1 </a> </li> <li class=md-nav__item> <a href=../release-notes-1.0/ class=md-nav__link> v1.0 </a> </li> <li class=md-nav__item> <a href=../release-notes-0.16/ class=md-nav__link> v0.16 </a> </li> <li class=md-nav__item> <a href=../release-notes-0.15/ class=md-nav__link> v0.15 </a> </li> <li class=md-nav__item> <a href=../release-notes-0.14/ class=md-nav__link> v0.14 </a> </li> <li class=md-nav__item> <a href=../release-notes-0.13/ class=md-nav__link> v0.13 </a> </li> <li class=md-nav__item> <a href=../release-notes-0.12/ class=md-nav__link> v0.12 </a> </li> <li class=md-nav__item> <a href=../release-notes-0.11/ class=md-nav__link> v0.11 </a> </li> <li class=md-nav__item> <a href=../release-notes-0.10/ class=md-nav__link> v0.10 </a> </li> <li class=md-nav__item> <a href=../release-notes-0.9/ class=md-nav__link> v0.9 </a> </li> <li class=md-nav__item> <a href=../release-notes-0.8/ class=md-nav__link> v0.8 </a> </li> <li class=md-nav__item> <a href=../release-notes-0.7/ class=md-nav__link> v0.7 </a> </li> <li class=md-nav__item> <a href=../release-notes-0.6/ class=md-nav__link> v0.6 </a> </li> <li class=md-nav__item> <a href=../release-notes-0.5/ class=md-nav__link> v0.5 </a> </li> <li class=md-nav__item> <a href=../release-notes-0.4/ class=md-nav__link> v0.4 </a> </li> <li class=md-nav__item> <a href=../release-notes-0.3/ class=md-nav__link> v0.3 </a> </li> <li class=md-nav__item> <a href=../release-notes-0.2/ class=md-nav__link> v0.2 </a> </li> <li class=md-nav__item> <a href=../release-notes-0.1/ class=md-nav__link> v0.1 </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label=目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#v155 class=md-nav__link> v1.5.5 </a> <nav class=md-nav aria-label=v1.5.5> <ul class=md-nav__list> <li class=md-nav__item> <a href=#changelog-since-v154 class=md-nav__link> Changelog since v1.5.4 </a> <nav class=md-nav aria-label="Changelog since v1.5.4"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#bug-or-regression class=md-nav__link> Bug or Regression </a> </li> <li class=md-nav__item> <a href=#other-cleanup-or-flake class=md-nav__link> Other (Cleanup or Flake) </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#v154 class=md-nav__link> v1.5.4 </a> <nav class=md-nav aria-label=v1.5.4> <ul class=md-nav__list> <li class=md-nav__item> <a href=#changelog-since-v153 class=md-nav__link> Changelog since v1.5.3 </a> <nav class=md-nav aria-label="Changelog since v1.5.3"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#bug-or-regression_1 class=md-nav__link> Bug or Regression </a> </li> <li class=md-nav__item> <a href=#other-cleanup-or-flake_1 class=md-nav__link> Other (Cleanup or Flake) </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#v153 class=md-nav__link> v1.5.3 </a> <nav class=md-nav aria-label=v1.5.3> <ul class=md-nav__list> <li class=md-nav__item> <a href=#changelog-since-v152 class=md-nav__link> Changelog since v1.5.2 </a> <nav class=md-nav aria-label="Changelog since v1.5.2"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#bug-or-regression_2 class=md-nav__link> Bug or Regression </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#v152 class=md-nav__link> v1.5.2 </a> <nav class=md-nav aria-label=v1.5.2> <ul class=md-nav__list> <li class=md-nav__item> <a href=#changelog-since-v151 class=md-nav__link> Changelog since v1.5.1 </a> <nav class=md-nav aria-label="Changelog since v1.5.1"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#bug-or-regression_3 class=md-nav__link> Bug or Regression </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#v151 class=md-nav__link> v1.5.1 </a> <nav class=md-nav aria-label=v1.5.1> <ul class=md-nav__list> <li class=md-nav__item> <a href=#changelog-since-v150 class=md-nav__link> Changelog since v1.5.0 </a> <nav class=md-nav aria-label="Changelog since v1.5.0"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#bug-or-regression_4 class=md-nav__link> Bug or Regression </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#v150 class=md-nav__link> v1.5.0 </a> <nav class=md-nav aria-label=v1.5.0> <ul class=md-nav__list> <li class=md-nav__item> <a href=#major-themes class=md-nav__link> Major Themes </a> <nav class=md-nav aria-label="Major Themes"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#api-deprecation class=md-nav__link> API Deprecation </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#experimental-features class=md-nav__link> Experimental Features </a> <nav class=md-nav aria-label="Experimental Features"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#gateway-api class=md-nav__link> Gateway API </a> </li> <li class=md-nav__item> <a href=#certificatesigningrequests class=md-nav__link> CertificateSigningRequests </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#user-experience class=md-nav__link> User Experience </a> <nav class=md-nav aria-label="User Experience"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#kubectl-plugin class=md-nav__link> kubectl plugin </a> </li> <li class=md-nav__item> <a href=#helm-chart class=md-nav__link> Helm chart </a> </li> <li class=md-nav__item> <a href=#labels-and-annotations-on-generated-secret-and-certificaterequest-resources class=md-nav__link> Labels and annotations on generated Secret and CertificateRequest resources </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#community class=md-nav__link> Community </a> <nav class=md-nav aria-label=Community> <ul class=md-nav__list> <li class=md-nav__item> <a href=#new-features class=md-nav__link> New Features </a> </li> <li class=md-nav__item> <a href=#bug-or-regression_5 class=md-nav__link> Bug or Regression </a> </li> <li class=md-nav__item> <a href=#other-cleanup-or-flake_2 class=md-nav__link> Other (Cleanup or Flake) </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1>v1.5</h1> <h2 id=v155>v1.5.5<a class=headerlink href=#v155 title="Permanent link">&para;</a></h2> <h3 id=changelog-since-v154>Changelog since v1.5.4<a class=headerlink href=#changelog-since-v154 title="Permanent link">&para;</a></h3> <p>In 1.5.5, we have reverted a change that caused a regression in the ACME Issuer. Before 1.5.4, the Ingress created by cert-manager while solving an HTTP-01 challenge contained the <code>kubernetes.io/ingress.class</code> annotation:</p> <p><div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">networking.k8s.io/v1beta1</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Ingress</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=nt>metadata</span><span class=p>:</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=w>  </span><span class=nt>annotations</span><span class=p>:</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=w>    </span><span class=nt>kubernetes.io/ingress.class</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">istio</span><span class=w> </span><span class=c1># The `class` present on the Issuer.</span>
</code></pre></div> In 1.5.4, the Ingress does not contain the annotation anymore. Instead, cert-manager uses the <code>ingressClassName</code> field:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">networking.k8s.io/v1</span>
<a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Ingress</span>
<a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a><span class=nt>spec</span><span class=p>:</span>
<a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a><span class=w>  </span><span class=nt>ingressClassName</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">istio</span><span class=w> </span><span class=c1># 🔥 Breaking change!</span>
</code></pre></div> <p>This broke many users that either don't use an Ingress controller that supports the field (such as ingress-gce and Azure AGIC), as well as people who did not need to create an IngressClass previously (such as with Istio and Traefik).</p> <p>The regression is present in cert-manager 1.5.4, 1.6.0, 1.6.1. It is only present on Kubernetes 1.19+ and only appears when using an Issuer or ClusterIssuer with an ACME HTTP-01 solver configured.</p> <p>In 1.5.5, we have restored the original behavior which is to use the annotation. We will also backport this fix to 1.5.5 and 1.6.2, allowing people to upgrade safely.</p> <p>Most people won't have any trouble upgrading from a version that contains the regression to 1.7.0, 1.6.2 or 1.5.5. If you are using Gloo, Contour, Skipper, or kube-ingress-aws-controller, you shouldn't have any issues. If you use the default "class" (e.g., <code>istio</code> for Istio) for Traefik, Istio, Ambassador, or ingress-nginx, then these should also continue to work without issue.</p> <p>If you are using Traefik, Istio, Ambassador, or ingress-nginx <em>and</em> you are using a non-default value for the class (e.g., <code>istio-internal</code>), or if you experience any issues with your HTTP-01 challenges please read the <a href=https://cert-manager.io/docs/installation/upgrading/ingress-class-compatibility/ >notes on Ingress v1 compatibility</a>.</p> <h4 id=bug-or-regression>Bug or Regression<a class=headerlink href=#bug-or-regression title="Permanent link">&para;</a></h4> <ul> <li>Fixed a regression where cert-manager was creating Ingresses using the field <code>ingressClassName</code> instead of the annotation <code>kubernetes.io/ingress.class</code>. More details about this regression are available <a href=https://cert-manager.io/next-docs/release-notes/release-notes-1.7/#ingress-class-semantics>in the 1.7 release notes</a>. (<a href=https://github.com/cert-manager/cert-manager/pull/4783>#4783</a>, <a href=https://github.com/maelvls>@maelvls</a>)</li> </ul> <h4 id=other-cleanup-or-flake>Other (Cleanup or Flake)<a class=headerlink href=#other-cleanup-or-flake title="Permanent link">&para;</a></h4> <ul> <li>cert-manager now does one call to the ACME API instead of two when an Order fails. This belongs to the effort towards mitigating <a href=https://github.com/cert-manager/cert-manager/issues/3298>the high load</a> that cert-manager deployments have on the Let's Encrypt API (<a href=https://github.com/cert-manager/cert-manager/pull/4618>#4618</a>, <a href=https://github.com/irbekrm>@irbekrm</a>)</li> </ul> <h2 id=v154>v1.5.4<a class=headerlink href=#v154 title="Permanent link">&para;</a></h2> <h3 id=changelog-since-v153>Changelog since v1.5.3<a class=headerlink href=#changelog-since-v153 title="Permanent link">&para;</a></h3> <h4 id=bug-or-regression_1>Bug or Regression<a class=headerlink href=#bug-or-regression_1 title="Permanent link">&para;</a></h4> <ul> <li>Fixed a bug that caused cert-manager to panic when the Vault Issuer failed to reach the health endpoint. (<a href=https://github.com/cert-manager/cert-manager/pull/4476>#4476</a>, <a href=https://github.com/JoshVanL>@JoshVanL</a>)</li> <li>Helm chart: the post-install hook <code>startupapicheck</code> is now compatible with the PodSecurityPolicy resource. (<a href=https://github.com/cert-manager/cert-manager/pull/4432>#4432</a>, <a href=https://github.com/ndegory>@ndegory</a>)</li> <li>Helm chart: the post-install hook <code>startupapicheck</code> now deletes any post-install hook resources left after a previous failed install allowing <code>helm install</code> to be re-run after a failed attempt. (<a href=https://github.com/cert-manager/cert-manager/pull/4435>#4435</a>, <a href=https://github.com/wallrj>@wallrj</a>)</li> </ul> <h4 id=other-cleanup-or-flake_1>Other (Cleanup or Flake)<a class=headerlink href=#other-cleanup-or-flake_1 title="Permanent link">&para;</a></h4> <ul> <li>Update cert-manager base image versions (<a href=https://github.com/cert-manager/cert-manager/pull/4479>#4479</a>, <a href=https://github.com/SgtCoDFish>@SgtCoDFish</a>)</li> </ul> <h2 id=v153>v1.5.3<a class=headerlink href=#v153 title="Permanent link">&para;</a></h2> <h3 id=changelog-since-v152>Changelog since v1.5.2<a class=headerlink href=#changelog-since-v152 title="Permanent link">&para;</a></h3> <h4 id=bug-or-regression_2>Bug or Regression<a class=headerlink href=#bug-or-regression_2 title="Permanent link">&para;</a></h4> <ul> <li>Fix a bug where a Certificate may not get renewed when the issued Certificate has a one-second skew between <code>notBefore</code> and <code>notAfter</code> and <code>spec.duration</code> is not used. This one-second skew can be observed on certificates issued with Let's Encrypt and caused a mismatch in time precision between the time stored in <code>status.renewalTime</code> and the time internally computed by cert-manager. (<a href=https://github.com/cert-manager/cert-manager/pull/4403>#4403</a>, <a href=https://github.com/irbekrm>@irbekrm</a>). Thanks to <a href=https://github.com/mfmbarros>@mfmbarros</a> for help with debugging the issue!</li> </ul> <h2 id=v152>v1.5.2<a class=headerlink href=#v152 title="Permanent link">&para;</a></h2> <h3 id=changelog-since-v151>Changelog since v1.5.1<a class=headerlink href=#changelog-since-v151 title="Permanent link">&para;</a></h3> <h4 id=bug-or-regression_3>Bug or Regression<a class=headerlink href=#bug-or-regression_3 title="Permanent link">&para;</a></h4> <ul> <li>Fix a regression introduced in v1.5.0 where the Ingress created for solving HTTP-01 challenges was created with <code>pathType: Exact</code> instead of <code>pathType: ImplementationSpecific</code>. (<a href=https://github.com/cert-manager/cert-manager/pull/4385>#4385</a>, <a href=https://github.com/jakexks>@jakexks</a>)</li> <li>Fixed the HTTP-01 solver creating ClusterIP instead of NodePort services by default. (<a href=https://github.com/cert-manager/cert-manager/pull/4394>#4394</a>, <a href=https://github.com/jakexks>@jakexks</a>)</li> <li>Helm chart and static manifest: the pointless <code>status</code> field is now stripped from the CRD manifests. (<a href=https://github.com/cert-manager/cert-manager/pull/4387>#4387</a>, <a href=https://github.com/irbekrm>@irbekrm</a>)</li> </ul> <h2 id=v151>v1.5.1<a class=headerlink href=#v151 title="Permanent link">&para;</a></h2> <p>The CRDs for the cert-manager v1beta1 API were mistakenly changed in cert-manager v1.5.0. If you installed the CRDs for v1.5.0, you should upgrade your CRDs to v1.5.1.</p> <p>The only affected API version is v1beta1, so if you're using the latest version - v1 - you won't be affected by the CRD changes. It's worth upgrading to v1 in any case, since v1alpha2, v1alpha3 and v1beta1 are all deprecated and will be removed in a future release.</p> <h3 id=changelog-since-v150>Changelog since v1.5.0<a class=headerlink href=#changelog-since-v150 title="Permanent link">&para;</a></h3> <h4 id=bug-or-regression_4>Bug or Regression<a class=headerlink href=#bug-or-regression_4 title="Permanent link">&para;</a></h4> <ul> <li>Fix <code>v1beta1</code> CRDs which were accidentally changed in cert-manager v1.5.0 (<a href=https://github.com/cert-manager/cert-manager/pull/4355>#4355</a>, <a href=https://github.com/SgtCoDFish>@SgtCoDFish</a>)</li> </ul> <h2 id=v150>v1.5.0<a class=headerlink href=#v150 title="Permanent link">&para;</a></h2> <h3 id=major-themes>Major Themes<a class=headerlink href=#major-themes title="Permanent link">&para;</a></h3> <h4 id=api-deprecation>API Deprecation<a class=headerlink href=#api-deprecation title="Permanent link">&para;</a></h4> <p>The recent Kubernetes 1.22 release has removed a number of deprecated APIs. You can read the official blog post <a href=https://kubernetes.io/blog/2021/07/14/upcoming-changes-in-kubernetes-1-22/ >Kubernetes API and Feature Removals In 1.22</a> to learn more about it. If you intend to upgrade to Kubernetes 1.22, you <strong>must</strong> upgrade to cert-manager 1.5.</p> <p>To keep compatibility with older Kubernetes versions (down to 1.16), cert-manager 1.5 is now compatible with both Ingress <code>v1</code> and <code>v1beta1</code>. cert-manager will default to using <code>v1</code> Ingress, and fall back to <code>v1beta1</code> when <code>v1</code> is not available.</p> <p>Please read the <a href=../../installation/upgrading/ingress-class-compatibility/ >Ingress class compatibility</a> notes to see if your Ingress controller has any known issues.</p> <p>Additionally, the cert-manager API versions <code>v1alpha2</code>, <code>v1alpha3</code> and <code>v1beta1</code> are now deprecated, and will be removed in cert-manager 1.7. Please change all your YAML manifests that use a deprecated API version to use <code>cert-manager.io/v1</code> instead, and re-apply them.</p> <p>These deprecation changes have been implemented in the cert-manager PRs <a href=https://github.com/cert-manager/cert-manager/pull/4225>#4225</a> and <a href=https://github.com/cert-manager/cert-manager/pull/4172>#4172</a>.</p> <h3 id=experimental-features>Experimental Features<a class=headerlink href=#experimental-features title="Permanent link">&para;</a></h3> <p>Features that we are currently working on are included in cert-manager releases but disabled by default, as they are likely to change in future. If any of them look interesting to you, please try them out and report bugs or quirks in a GitHub Issue.</p> <h4 id=gateway-api>Gateway API<a class=headerlink href=#gateway-api title="Permanent link">&para;</a></h4> <p>We have seen many requests from users to support different ways of routing HTTP traffic into their clusters for solving ACME HTTP-01 challenges. As the cloud-native ecosystem has so many different ingress implementations, we searched for a solution that would avoid having to add individual support for every kind of virtual service to the cert-manager API, and settled on the <a href=https://gateway-api.sigs.k8s.io/ >sig-network Gateway API</a>.</p> <p>The Gateway API project aims to provide a universal API for modeling service networking in Kubernetes, and while it is still in its alpha stages is already gaining <a href=https://gateway-api.sigs.k8s.io/references/implementations/ >wide adoption</a>. By supporting the Gateway API HTTPRoute resource, we hope that anyone using Ambassador, Contour, Gloo, HAProxy, Istio, Kong or Traefik will be able to solve HTTP-01 challenges, with more implementations coming in future.</p> <p>To go along with the HTTPRoute resource support, we have also added a gateway-shim controller that will allow users to annotate their Gateway resources to get a cert-manager Certificate automatically created, similar to the current ingress-shim functionality.</p> <p>Implemented in the cert-manager PRs <a href=https://github.com/cert-manager/cert-manager/pull/4276>#4276</a> and <a href=https://github.com/cert-manager/cert-manager/pull/4158>#4158</a>.</p> <h4 id=certificatesigningrequests>CertificateSigningRequests<a class=headerlink href=#certificatesigningrequests title="Permanent link">&para;</a></h4> <p>CertificateSigningRequest is a built-in Kubernetes resource that was originally aimed at requesting X.509 client certificates and serving certificates for Kubernetes components such as kubelet.</p> <p>We have seen a rising interest in using the CertificateSigningRequest (CSR) resource as a way to provision workload certificates in service meshes such as Istio and its <a href=https://istio.io/latest/docs/tasks/security/cert-management/custom-ca-k8s/ >Istio Custom CA Integration using Kubernetes CSR</a>. For that purpose, the CSR resource needs to be integrated with existing signers such as HashiCorp Vault or Venafi TPP.</p> <p>Back in cert-manager 1.4, the CA Issuer became the first built-in cert-manager issuer to support signing CertificateSigningRequest resources. In 1.5, we extended the support to all existing Issuers.</p> <p>The support for signing CSR resources is still experimental and requires to be explicitly enabled. If you are interested, please take a look at the <a href=https://cert-manager.io/docs/usage/kube-csr/ >Kubernetes CertificateSigningRequest</a> documentation on the cert-manager website.</p> <p>To help you try the CSR support, you may want to try a new command that was added to the kubectl plugin. It allows you to create a CSR resource out of a cert-manager Certificate manifest:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a>kubectl<span class=w> </span>cert-manager<span class=w> </span>x<span class=w> </span>create<span class=w> </span>certificatesigningrequest<span class=w> </span>example-csr<span class=w> </span>certificate.yaml
</code></pre></div> <p>Finally, we decided to remove the annotation <code>experimental.cert-manager.io/ca</code> that was added to the CertificateSigningRequest resource after being signed by cert-manager. This annotation was introduced in cert-manager 1.4 and will no longer be set on CertificateSigningRequest resources. We removed this annotation due to a technical limitation related to the fact that Kubernetes resources have a status subresource that is separate from the main resource.</p> <p>The above features were implemented in the cert-manager PRs <a href=https://github.com/cert-manager/cert-manager/pull/4112>#4112</a>, <a href=https://github.com/cert-manager/cert-manager/pull/4100>#4100</a>, <a href=https://github.com/cert-manager/cert-manager/pull/4103>#4103</a>, <a href=https://github.com/cert-manager/cert-manager/pull/4108>#4108</a>, <a href=https://github.com/cert-manager/cert-manager/pull/4106>#4106</a>, and <a href=https://github.com/cert-manager/cert-manager/pull/4143>#4143</a></p> <h3 id=user-experience>User Experience<a class=headerlink href=#user-experience title="Permanent link">&para;</a></h3> <h4 id=kubectl-plugin>kubectl plugin<a class=headerlink href=#kubectl-plugin title="Permanent link">&para;</a></h4> <p>cert-manager comes with a kubectl plugin, <code>kubectl cert-manager</code>, that comes in handy for checking the status of your cert-manager Certificate resources.</p> <p>In 1.5, a new experimental command for installing cert-manager has been added. Under the hood, it uses the cert-manager Helm chart. This means that all helm templating options are also supported by this install command:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a>kubectl<span class=w> </span>cert-manager<span class=w> </span>x<span class=w> </span>install<span class=w> </span><span class=se>\</span>
<a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a><span class=w>  </span>--set<span class=w> </span>prometheus.enabled<span class=o>=</span><span class=nb>false</span><span class=w> </span><span class=se>\ </span><span class=w> </span><span class=c1># Example: disabling prometheus using a Helm parameter</span>
<a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a><span class=w>  </span>--set<span class=w> </span>webhook.timeoutSeconds<span class=o>=</span>4s<span class=w>   </span><span class=c1># Example: changing the wehbook timeout using a Helm parameter</span>
</code></pre></div> <p>An interesting feature that comes when using with this new <code>install</code> command is that it installs the CRDs in a way that prevents <code>helm uninstall</code> from deleting the CRDs while uninstalling cert-manager.</p> <p>The plugin is now capable of determining when your cert-manager deployment is ready to be used:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a>kubectl<span class=w> </span>cert-manager<span class=w> </span>check<span class=w> </span>api
</code></pre></div> <p>The plugin also learned how to discover the version of cert-manager running on your cluster, similar to <code>kubectl version</code>:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a>kubectl<span class=w> </span>cert-manager<span class=w> </span>version
</code></pre></div> <p>To install the plugin, check out the <a href=https://cert-manager.io/next-docs/installation/kubectl-plugin/ >Kubectl plugin</a> page on the cert-manager website.</p> <p>These features were implemented by Tim in the cert-manager PRs <a href=https://github.com/cert-manager/cert-manager/pull/4226>#4226</a>, <a href=https://github.com/cert-manager/cert-manager/pull/4205>#4205</a>, and <a href=https://github.com/cert-manager/cert-manager/pull/4138>#4138</a>.</p> <h4 id=helm-chart>Helm chart<a class=headerlink href=#helm-chart title="Permanent link">&para;</a></h4> <p>While installing cert-manager using Helm, you might have noticed that the <code>--wait</code> flag does not wait until cert-manager is fully functional.</p> <p>With 1.5, the <code>--wait</code> flag now works as you would expect. The Helm chart now comes with a small startup job that waits until the cert-manager API becomes ready.</p> <p>Implemented in the cert-manager PR <a href=https://github.com/cert-manager/cert-manager/pull/4234>#4234</a> by Tim.</p> <h4 id=labels-and-annotations-on-generated-secret-and-certificaterequest-resources>Labels and annotations on generated Secret and CertificateRequest resources<a class=headerlink href=#labels-and-annotations-on-generated-secret-and-certificaterequest-resources title="Permanent link">&para;</a></h4> <p>cert-manager now allows you to add custom annotations and labels to the Secret containing the TLS key pair using the new Certificate field <code>secretTemplate</code>. This is useful when using third-party solutions such as <a href=https://github.com/kubeops/kubed>kubed</a> to copy Secret resources to multiple namespaces. The <code>secretTemplate</code> is synced to the Secret when the Certificate is created or renewed.</p> <p>Here is an example of Certificate using the <code>secretTemplate</code> field:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">cert-manager.io/v1</span>
<a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Certificate</span>
<a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a><span class=nt>spec</span><span class=p>:</span>
<a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a><span class=w>  </span><span class=nt>secretTemplate</span><span class=p>:</span>
<a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a><span class=w>    </span><span class=nt>annotations</span><span class=p>:</span>
<a id=__codelineno-6-6 name=__codelineno-6-6 href=#__codelineno-6-6></a><span class=w>      </span><span class=nt>my-secret-annotation</span><span class=p>:</span><span class=w> </span><span class=s>&quot;foo&quot;</span>
<a id=__codelineno-6-7 name=__codelineno-6-7 href=#__codelineno-6-7></a><span class=w>    </span><span class=nt>labels</span><span class=p>:</span>
<a id=__codelineno-6-8 name=__codelineno-6-8 href=#__codelineno-6-8></a><span class=w>      </span><span class=nt>my-secret-label</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">bar</span>
</code></pre></div> <p>Note that labels and annotations can only be added or replaced, but not removed. Removing any labels or annotations from the template or removing the template itself will have no effect.</p> <p>Along with the ability to set your own annotations and labels on Secret resources created by cert-manager, you can also tell cert-manager which annotations should be copied from Certificate resources to the generated CertificateRequest resources. By default, cert-manager will skip copying the annotations with the following prefixes:</p> <ul> <li><code>kubectl.kubernetes.io/</code>,</li> <li><code>fluxcd.io</code>,</li> <li><code>argocd.argoproj.io</code>.</li> </ul> <p>If you wish to keep the old behavior and allow all annotations to be copied, you can pass the flag <code>--copied-annotations=*</code> to the cert-manager controller.</p> <p>Implemented in the cert-manager PRs <a href=https://github.com/cert-manager/cert-manager/pull/3828>#3828</a> and <a href=https://github.com/cert-manager/cert-manager/pull/4251>#4251</a>.</p> <h3 id=community>Community<a class=headerlink href=#community title="Permanent link">&para;</a></h3> <p>This is the first time that cert-manager participated in Google Summer of Code. Congratulations to <a href=https://github.com/RinkiyaKeDad>Arsh</a> and <a href=https://github.com/inteon>Tim</a> for completing their GSoC projects! We hope you both continue to contribute in future.</p> <p>Thanks again to all open-source contributors with commits in this release:</p> <ul> <li><a href=https://github.com/alrs>alrs</a></li> <li><a href=https://github.com/annerajb>annerajb</a></li> <li><a href=https://github.com/Dean-Coakley>Dean-Coakley</a></li> <li><a href=https://github.com/francescsanjuanmrf>francescsanjuanmrf</a></li> <li><a href=https://github.com/inteon>inteon</a></li> <li><a href=https://github.com/jonathansp>jonathansp</a></li> <li><a href=https://github.com/kit837>kit837</a></li> <li><a href=https://github.com/longkai>longkai</a></li> <li><a href=https://github.com/mozz-lx>mozz-lx</a></li> <li><a href=https://github.com/RinkiyaKeDad>RinkiyaKeDad</a></li> <li><a href=https://github.com/tamalsaha>tamalsaha</a></li> <li><a href=https://github.com/thiscantbeserious>thiscantbeserious</a></li> <li><a href=https://github.com/ulrichgi>ulrichgi</a></li> <li><a href=https://github.com/wpjunior>wpjunior</a></li> </ul> <p>Also thanks to <a href=https://github.com/coderanger>coderanger</a> for helping people out on the Slack <code>#cert-manager</code> channel; it's a huge help and much appreciated.</p> <hr> <h4 id=new-features>New Features<a class=headerlink href=#new-features title="Permanent link">&para;</a></h4> <ul> <li>cert-manager now supports using Ed25519 private keys and signatures for Certificates. Implemented in the cert-manager PR <a href=https://github.com/cert-manager/cert-manager/pull/4079>#4079</a>.</li> <li>cert-manager now emits an event when a CertificateSigningRequest resource has not yet been approved. Without this event, the user would never know that cert-manager is waiting for the approval of the CertificateSigningRequest resource. Implemented in the cert-manager PR <a href=https://github.com/cert-manager/cert-manager/pull/4229>#4229</a>.</li> <li>cert-manager now only supports the version <code>v1</code> of the <code>AdmissionReviewVersion</code> and <code>ConversionReviewVersion</code> resources, both available since Kubernetes 1.16. The <code>v1beta1</code> version is no longer supported by cert-manager. This change was implemented in the cert-manager PRs <a href=https://github.com/cert-manager/cert-manager/pull/4254>#4254</a> and <a href=https://github.com/cert-manager/cert-manager/pull/4253>#4253</a>.</li> <li>cert-manager now restarts more quickly by clearing the leader election before shutting down. Also, upon shutdown, the controller loops now cleanly stop, which allows all in-flight reconciliation functions to finish before exiting. Implemented in the cert-manager PR <a href=https://github.com/cert-manager/cert-manager/pull/4243>#4243</a>.</li> <li>Metrics: a new metric, named <code>clock_time_seconds</code> was added; this metric allows for monitoring systems that do not have a built-in time function (e.g. DataDog) to calculate the number of seconds until a certificate expires by subtracting this metric from the existing <code>certificate_expiration_timestamp</code> metrics. Implemented in the cert-manager PR <a href=https://github.com/cert-manager/cert-manager/pull/4105>#4105</a>.</li> <li>Helm chart: the Prometheus scraping service port now has a name. Implemented in the cert-manager PR <a href=https://github.com/cert-manager/cert-manager/pull/4072>#4072</a>.</li> <li>Helm chart: you can now configure the labels for the cert-manager-webhook service using the Helm value <code>webhook.serviceLabels</code>. Implemented in the cert-manager PR <a href=https://github.com/cert-manager/cert-manager/pull/4260>#4260</a>.</li> </ul> <h4 id=bug-or-regression_5>Bug or Regression<a class=headerlink href=#bug-or-regression_5 title="Permanent link">&para;</a></h4> <ul> <li>Security: cert-manager now times out after 10 second when performing the self-check while solving HTTP-01 challenges. Fixed in the cert-manager PR <a href=https://github.com/cert-manager/cert-manager/pull/4311>#4311</a>.</li> <li>Cloudflare: Refactored DNS01 challenge to use API for finding the nearest Zone (fixing potential DNS issues) (<a href=https://github.com/cert-manager/cert-manager/pull/4147>#4147</a>, <a href=https://github.com/thiscantbeserious>@thiscantbeserious</a>)</li> <li>Fix a bug where failed CertificateRequest resources were not retried (<a href=https://github.com/cert-manager/cert-manager/pull/4130>#4130</a>, <a href=https://github.com/irbekrm>@irbekrm</a>)</li> <li>Fix a regression that would lead to a Certificate becoming "Failed" when the issued X.509 certificate's subject DN would be equal to the issuer's subject DN. Fixed in the cert-manager PR <a href=https://github.com/cert-manager/cert-manager/pull/4237>#4237</a>.</li> <li>Fix a regression where the <code>tls.crt</code> certificate chain would unexpectedly not contain an intermediate CA certificate when no root CA is available in the CA chain returned by the issuer. This bug affected the Vault Issuer, Venafi Issuer and CA Issuer. This bug was fixed in the cert-manager PR <a href=https://github.com/cert-manager/cert-manager/pull/4261>#4261</a>.</li> <li>Fix a goroutine leak that was causing the controller's memory usage to grow with time. Fixed in the cert-manager PR <a href=https://github.com/cert-manager/cert-manager/pull/4233>#4233</a>.</li> <li>Fix a race condition introduced in cert-manager 0.15 that would crash cert-manager for clusters with a large number of certificates. Fixed in the cert-manager PR <a href=https://github.com/cert-manager/cert-manager/pull/4231>#4231</a>.</li> <li>Fix a bug where the default renewal duration of certificate, set to 30 days, would clash with the duration of certificates issued by the Vault Issuer. All Certificate resources are now renewed &#8532; through the duration unless a custom renew period is specified by setting <code>renewBefore</code> on the Certificate. Fixed in the cert-manager PR <a href=https://github.com/cert-manager/cert-manager/pull/4092>#4092</a>.</li> <li>The cert-manager binaries, including the kubectl plugin, now exit with the correct exit code on SIGINT (Ctrl+C) and SIGTERM events. More specifically, when one of these events is caught, cert-manager will exit with the code 128 + signal number. Fixed in <a href=https://github.com/cert-manager/cert-manager/pull/4230>#4230</a>.</li> <li>The static manifests available on the GitHub Releases page now contain a version label <code>app.kubernetes.io/version: v1.5.0</code>. We also removed the Helm-specific labels from the static manifests. Fixed in the cert-manager PR <a href=https://github.com/cert-manager/cert-manager/pull/4190>#4190</a>.</li> </ul> <h4 id=other-cleanup-or-flake_2>Other (Cleanup or Flake)<a class=headerlink href=#other-cleanup-or-flake_2 title="Permanent link">&para;</a></h4> <ul> <li>A conformance end-to-end testing suite was added for the CertificateSigningRequest resources (<a href=https://github.com/cert-manager/cert-manager/pull/4101>#4101</a>).</li> <li>Reduce binary sizes from 74MB down to 49MB by adding the Go ldflag <code>-w</code> (<a href=https://github.com/cert-manager/cert-manager/pull/4181>#4181</a>).</li> </ul> </article> </div> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> 回到页面顶部 </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> © 2022 The cert-manager Authors. © 2022 The Linux Foundation. All rights reserved. </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/cert-manager/cert-manager target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href=https://infosec.exchange/@CertManager target=_blank rel="noopener me" title=infosec.exchange class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M433 179.11c0-97.2-63.71-125.7-63.71-125.7-62.52-28.7-228.56-28.4-290.48 0 0 0-63.72 28.5-63.72 125.7 0 115.7-6.6 259.4 105.63 289.1 40.51 10.7 75.32 13 103.33 11.4 50.81-2.8 79.32-18.1 79.32-18.1l-1.7-36.9s-36.31 11.4-77.12 10.1c-40.41-1.4-83-4.4-89.63-54a102.54 102.54 0 0 1-.9-13.9c85.63 20.9 158.65 9.1 178.75 6.7 56.12-6.7 105-41.3 111.23-72.9 9.8-49.8 9-121.5 9-121.5zm-75.12 125.2h-46.63v-114.2c0-49.7-64-51.6-64 6.9v62.5h-46.33V197c0-58.5-64-56.6-64-6.9v114.2H90.19c0-122.1-5.2-147.9 18.41-175 25.9-28.9 79.82-30.8 103.83 6.1l11.6 19.5 11.6-19.5c24.11-37.1 78.12-34.8 103.83-6.1 23.71 27.3 18.4 53 18.4 175z"/></svg> </a> <a href=https://twitter.com/CertManager/ target=_blank rel=noopener title=twitter.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["content.code.annotate", "content.tooltips", "navigation.indexes", "navigation.sections", "navigation.tabs", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script> <script src=../../assets/javascripts/bundle.b4d07000.min.js></script> </body> </html>